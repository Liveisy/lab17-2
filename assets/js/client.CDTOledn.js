import{ae as Q,b as g,af as to,d as B,_ as w,a as O,u as be,t as Ge,ag as as,a2 as ro,ab as ss,D as us,ah as pn,n as Ot,A as no,B as cs,C as hn,E as ls,z as fs,ai as ds,o as ps,q as io,a6 as oo,S as hs,p as vs,R as gs,ac as _s,a7 as ys,Q as ms,aj as bs,a8 as Es,K as Ss,J as vn,m as nr,aa as ws,ak as ao,e as so,f as uo,l as gn,h as Os,a4 as Ts,g as _n,N as Is,a3 as ks,y as xs,i as co,s as lo,c as zt,x as As}from"./_baseFor.Bzwhonox.js";import{c as Ns,f as U,g as fo}from"./globalnav2.15dcd298.yarjxgix.js";import{_ as oe}from"./preload-helper.Chbwj59V.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="32f5c80a-b6b1-4f6e-515b-d9ded1dfa59f",t._sentryDebugIdIdentifier="sentry-dbid-32f5c80a-b6b1-4f6e-515b-d9ded1dfa59f")}catch{}})();var po={exports:{}};(function(t){function e(n,i,o,a,s,u,c){try{var l=n[u](c),f=l.value}catch(p){return void o(p)}l.done?i(f):Promise.resolve(f).then(a,s)}function r(n){return function(){var i=this,o=arguments;return new Promise(function(a,s){var u=n.apply(i,o);function c(f){e(u,a,s,c,l,"next",f)}function l(f){e(u,a,s,c,l,"throw",f)}c(void 0)})}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(po);var ho=po.exports;const Kg=Ns(ho);function jr(t,e,r){e.split&&(e=e.split("."));for(var n=0,i=e.length,o=t,a,s;n<i&&(s=""+e[n++],!(s==="__proto__"||s==="constructor"||s==="prototype"));)o=o[s]=n===i?r:typeof(a=o[s])==typeof e?a:e[n]*0!==0||~(""+e[n]).indexOf(".")?{}:[]}var Ds=function(t,e){return Object.keys(t).filter(function(r){return e(r,t[r])}).reduce(function(r,n){return r[n]=t[n],r},{})},je=function(t){Q(e,t);function e(r,n){var i=t.call(this,"".concat(r," ").concat(n))||this;return i.field=r,i}return e}(Error);function Ye(t){return typeof t=="string"}function Fr(t){return typeof t=="number"}function Qe(t){return typeof t=="function"}function Rs(t){return t!=null}function ue(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()==="object"}var yn="is not a string",mn="is not an object",Ps="is nil";function Cs(t){if(!Rs(t))throw new je("Event",Ps);if(typeof t!="object")throw new je("Event",mn)}function Ms(t){if(!Ye(t.type))throw new je(".type",yn)}function Ls(t){if(!Ye(t.event))throw new je(".event",yn)}function $s(t){if(!ue(t.properties))throw new je(".properties",mn)}function js(t){if(!ue(t.traits))throw new je(".traits",mn)}function Fs(t){if(!Ye(t.messageId))throw new je(".messageId",yn)}function Us(t){Cs(t),Ms(t),Fs(t),t.type==="track"&&(Ls(t),$s(t)),["group","identify"].includes(t.type)&&js(t)}var Bs=function(){function t(e){var r,n;this.settings=e,this.createMessageId=e.createMessageId,this.onEventMethodCall=(r=e.onEventMethodCall)!==null&&r!==void 0?r:function(){},this.onFinishedEvent=(n=e.onFinishedEvent)!==null&&n!==void 0?n:function(){}}return t}(),Gs=function(){function t(e){this.settings=new Bs(e)}return t.prototype.track=function(e,r,n,i){return this.settings.onEventMethodCall({type:"track",options:n}),this.normalize(g(g({},this.baseEvent()),{event:e,type:"track",properties:r??{},options:g({},n),integrations:g({},i)}))},t.prototype.page=function(e,r,n,i,o){var a;this.settings.onEventMethodCall({type:"page",options:i});var s={type:"page",properties:g({},n),options:g({},i),integrations:g({},o)};return e!==null&&(s.category=e,s.properties=(a=s.properties)!==null&&a!==void 0?a:{},s.properties.category=e),r!==null&&(s.name=r),this.normalize(g(g({},this.baseEvent()),s))},t.prototype.screen=function(e,r,n,i,o){this.settings.onEventMethodCall({type:"screen",options:i});var a={type:"screen",properties:g({},n),options:g({},i),integrations:g({},o)};return e!==null&&(a.category=e),r!==null&&(a.name=r),this.normalize(g(g({},this.baseEvent()),a))},t.prototype.identify=function(e,r,n,i){return this.settings.onEventMethodCall({type:"identify",options:n}),this.normalize(g(g({},this.baseEvent()),{type:"identify",userId:e,traits:r??{},options:g({},n),integrations:i}))},t.prototype.group=function(e,r,n,i){return this.settings.onEventMethodCall({type:"group",options:n}),this.normalize(g(g({},this.baseEvent()),{type:"group",traits:r??{},options:g({},n),integrations:g({},i),groupId:e}))},t.prototype.alias=function(e,r,n,i){this.settings.onEventMethodCall({type:"alias",options:n});var o={userId:e,type:"alias",options:g({},n),integrations:g({},i)};return r!==null&&(o.previousId=r),e===void 0?this.normalize(g(g({},o),this.baseEvent())):this.normalize(g(g({},this.baseEvent()),o))},t.prototype.baseEvent=function(){return{integrations:{},options:{}}},t.prototype.context=function(e){var r,n=["userId","anonymousId","timestamp","messageId"];delete e.integrations;var i=Object.keys(e),o=(r=e.context)!==null&&r!==void 0?r:{},a={};return i.forEach(function(s){s!=="context"&&(n.includes(s)?jr(a,s,e[s]):jr(o,s,e[s]))}),[o,a]},t.prototype.normalize=function(e){var r,n,i=Object.keys((r=e.integrations)!==null&&r!==void 0?r:{}).reduce(function(p,d){var h,y;return g(g({},p),(h={},h[d]=!!(!((y=e.integrations)===null||y===void 0)&&y[d]),h))},{});e.options=Ds(e.options||{},function(p,d){return d!==void 0});var o=g(g({},i),(n=e.options)===null||n===void 0?void 0:n.integrations),a=e.options?this.context(e.options):[],s=a[0],u=a[1],c=e.options,l=to(e,["options"]),f=g(g(g(g({timestamp:new Date},l),{context:s,integrations:o}),u),{messageId:c.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(f),Us(f),f},t}();function Ys(t,e){return new Promise(function(r,n){var i=setTimeout(function(){n(Error("Promise timed out"))},e);t.then(function(o){return clearTimeout(i),r(o)}).catch(n)})}function qs(t){return new Promise(function(e){return setTimeout(e,t)})}function Hs(t,e,r){var n=function(){try{return Promise.resolve(e(t))}catch(i){return Promise.reject(i)}};return qs(r).then(function(){return Ys(n(),1e3)}).catch(function(i){t?.log("warn","Callback Error",{error:i}),t?.stats.increment("callback_error")}).then(function(){return t})}var vo=function(){var t,e,r=!1,n=new Promise(function(i,o){t=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];r=!0,i.apply(void 0,a)},e=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];r=!0,o.apply(void 0,a)}});return{resolve:t,reject:e,promise:n,isSettled:function(){return r}}},bn=function(){function t(e){var r;this.callbacks={},this.warned=!1,this.maxListeners=(r=e?.maxListeners)!==null&&r!==void 0?r:10}return t.prototype.warnIfPossibleMemoryLeak=function(e){this.warned||this.maxListeners&&this.callbacks[e].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(e)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},t.prototype.on=function(e,r){return this.callbacks[e]?(this.callbacks[e].push(r),this.warnIfPossibleMemoryLeak(e)):this.callbacks[e]=[r],this},t.prototype.once=function(e,r){var n=this,i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];n.off(e,i),r.apply(n,o)};return this.on(e,i),this},t.prototype.off=function(e,r){var n,i=(n=this.callbacks[e])!==null&&n!==void 0?n:[],o=i.filter(function(a){return a!==r});return this.callbacks[e]=o,this},t.prototype.emit=function(e){for(var r=this,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=(n=this.callbacks[e])!==null&&n!==void 0?n:[];return a.forEach(function(s){s.apply(r,i)}),this},t}();function zs(t){var e=Math.random()+1,r=t.minTimeout,n=r===void 0?500:r,i=t.factor,o=i===void 0?2:i,a=t.attempt,s=t.maxTimeout,u=s===void 0?1/0:s;return Math.min(e*n*Math.pow(o,a),u)}var go="onRemoveFromFuture",En=function(t){Q(e,t);function e(r,n,i){var o=t.call(this)||this;return o.future=[],o.maxAttempts=r,o.queue=n,o.seen=i??{},o}return e.prototype.push=function(){for(var r=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=n.map(function(a){var s=r.updateAttempts(a);return s>r.maxAttempts||r.includes(a)?!1:(r.queue.push(a),!0)});return this.queue=this.queue.sort(function(a,s){return r.getAttempts(a)-r.getAttempts(s)}),o},e.prototype.pushWithBackoff=function(r,n){var i=this;if(n===void 0&&(n=0),n==0&&this.getAttempts(r)===0)return this.push(r)[0];var o=this.updateAttempts(r);if(o>this.maxAttempts||this.includes(r))return!1;var a=zs({attempt:o-1});return n>0&&a<n&&(a=n),setTimeout(function(){i.queue.push(r),i.future=i.future.filter(function(s){return s.id!==r.id}),i.emit(go)},a),this.future.push(r),!0},e.prototype.getAttempts=function(r){var n;return(n=this.seen[r.id])!==null&&n!==void 0?n:0},e.prototype.updateAttempts=function(r){return this.seen[r.id]=this.getAttempts(r)+1,this.getAttempts(r)},e.prototype.includes=function(r){return this.queue.includes(r)||this.future.includes(r)||!!this.queue.find(function(n){return n.id===r.id})||!!this.future.find(function(n){return n.id===r.id})},e.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(e.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),e}(bn),Me=256,Kt=[],Rt;for(;Me--;)Kt[Me]=(Me+256).toString(16).substring(1);function Sn(){var t=0,e,r="";if(!Rt||Me+16>256){for(Rt=Array(t=256);t--;)Rt[t]=256*Math.random()|0;t=Me=0}for(;t<16;t++)e=Rt[Me+t],t==6?r+=Kt[e&15|64]:t==8?r+=Kt[e&63|128]:r+=Kt[e],t&1&&t>1&&t<11&&(r+="-");return Me++,r}var Ks=function(){function t(){this._logs=[]}return t.prototype.log=function(e,r,n){var i=new Date;this._logs.push({level:e,message:r,time:i,extras:n})},Object.defineProperty(t.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),t.prototype.flush=function(){if(this.logs.length>1){var e=this._logs.reduce(function(r,n){var i,o,a,s=g(g({},n),{json:JSON.stringify(n.extras,null," "),extras:n.extras});delete s.time;var u=(a=(o=n.time)===null||o===void 0?void 0:o.toISOString())!==null&&a!==void 0?a:"";return r[u]&&(u="".concat(u,"-").concat(Math.random())),g(g({},r),(i={},i[u]=s,i))},{});console.table?console.table(e):console.log(e)}else this.logs.forEach(function(r){var n=r.level,i=r.message,o=r.extras;n==="info"||n==="debug"?console.log(i,o??""):console[n](i,o??"")});this._logs=[]},t}(),Ws=function(t){var e={gauge:"g",counter:"c"};return e[t]},_o=function(){function t(){this.metrics=[]}return t.prototype.increment=function(e,r,n){r===void 0&&(r=1),this.metrics.push({metric:e,value:r,tags:n??[],type:"counter",timestamp:Date.now()})},t.prototype.gauge=function(e,r,n){this.metrics.push({metric:e,value:r,tags:n??[],type:"gauge",timestamp:Date.now()})},t.prototype.flush=function(){var e=this.metrics.map(function(r){return g(g({},r),{tags:r.tags.join(",")})});console.table?console.table(e):console.log(e),this.metrics=[]},t.prototype.serialize=function(){return this.metrics.map(function(e){return{m:e.metric,v:e.value,t:e.tags,k:Ws(e.type),e:e.timestamp}})},t}(),Vs=function(t){Q(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.gauge=function(){},e.prototype.increment=function(){},e.prototype.flush=function(){},e.prototype.serialize=function(){return[]},e}(_o),Fe=function(){function t(e){var r,n,i;this.retry=(r=e.retry)!==null&&r!==void 0?r:!0,this.type=(n=e.type)!==null&&n!==void 0?n:"plugin Error",this.reason=(i=e.reason)!==null&&i!==void 0?i:""}return t}(),Vt=function(){function t(e,r,n,i){r===void 0&&(r=Sn()),n===void 0&&(n=new Vs),i===void 0&&(i=new Ks),this.attempts=0,this.event=e,this._id=r,this.logger=i,this.stats=n}return t.system=function(){},t.prototype.isSame=function(e){return e.id===this.id},t.prototype.cancel=function(e){throw e||new Fe({reason:"Context Cancel"})},t.prototype.log=function(e,r,n){this.logger.log(e,r,n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),t.prototype.updateEvent=function(e,r){var n;if(e.split(".")[0]==="integrations"){var i=e.split(".")[1];if(((n=this.event.integrations)===null||n===void 0?void 0:n[i])===!1)return this.event}return jr(this.event,e,r),this.event},t.prototype.failedDelivery=function(){return this._failedDelivery},t.prototype.setFailedDelivery=function(e){this._failedDelivery=e},t.prototype.logs=function(){return this.logger.logs},t.prototype.flush=function(){this.logger.flush(),this.stats.flush()},t.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},t}();function Js(t,e){var r={};return t.forEach(function(n){var i,o=void 0;{var a=n[e];o=typeof a!="string"?JSON.stringify(a):a}o!==void 0&&(r[o]=B(B([],(i=r[o])!==null&&i!==void 0?i:[],!0),[n],!1))}),r}var Xs=function(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"},Qs=function(){var t,e,r=0;return{done:function(){return t},run:function(n){var i=n();return Xs(i)&&(++r===1&&(t=new Promise(function(o){return e=o})),i.finally(function(){return--r===0&&e()})),i}}};function Zs(t){return w(this,void 0,void 0,function(){var e;return O(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t()];case 1:return[2,r.sent()];case 2:return e=r.sent(),[2,Promise.reject(e)];case 3:return[2]}})})}function yt(t,e){t.log("debug","plugin",{plugin:e.name});var r=new Date().getTime(),n=e[t.event.type];if(n===void 0)return Promise.resolve(t);var i=Zs(function(){return n.apply(e,[t])}).then(function(o){var a=new Date().getTime()-r;return o.stats.gauge("plugin_time",a,["plugin:".concat(e.name)]),o}).catch(function(o){if(o instanceof Fe&&o.type==="middleware_cancellation")throw o;return o instanceof Fe?(t.log("warn",o.type,{plugin:e.name,error:o}),o):(t.log("error","plugin Error",{plugin:e.name,error:o}),t.stats.increment("plugin_error",1,["plugin:".concat(e.name)]),o)});return i}function eu(t,e){return yt(t,e).then(function(r){if(r instanceof Vt)return r;t.log("debug","Context canceled"),t.stats.increment("context_canceled"),t.cancel(r)})}var tu=function(t){Q(e,t);function e(r){var n=t.call(this)||this;return n.criticalTasks=Qs(),n.plugins=[],n.failedInitializations=[],n.flushing=!1,n.queue=r,n.queue.on(go,function(){n.scheduleFlush(0)}),n}return e.prototype.register=function(r,n,i){return w(this,void 0,void 0,function(){var o,a,s=this;return O(this,function(u){switch(u.label){case 0:return this.plugins.push(n),o=function(c){s.failedInitializations.push(n.name),s.emit("initialization_failure",n),console.warn(n.name,c),r.log("warn","Failed to load destination",{plugin:n.name,error:c}),s.plugins=s.plugins.filter(function(l){return l!==n})},n.type==="destination"&&n.name!=="Segment.io"?(n.load(r,i).catch(o),[3,4]):[3,1];case 1:return u.trys.push([1,3,,4]),[4,n.load(r,i)];case 2:return u.sent(),[3,4];case 3:return a=u.sent(),o(a),[3,4];case 4:return[2]}})})},e.prototype.deregister=function(r,n,i){return w(this,void 0,void 0,function(){var o;return O(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),n.unload?[4,Promise.resolve(n.unload(r,i))]:[3,2];case 1:a.sent(),a.label=2;case 2:return this.plugins=this.plugins.filter(function(s){return s.name!==n.name}),[3,4];case 3:return o=a.sent(),r.log("warn","Failed to unload destination",{plugin:n.name,error:o}),[3,4];case 4:return[2]}})})},e.prototype.dispatch=function(r){return w(this,void 0,void 0,function(){var n;return O(this,function(i){return r.log("debug","Dispatching"),r.stats.increment("message_dispatched"),this.queue.push(r),n=this.subscribeToDelivery(r),this.scheduleFlush(0),[2,n]})})},e.prototype.subscribeToDelivery=function(r){return w(this,void 0,void 0,function(){var n=this;return O(this,function(i){return[2,new Promise(function(o){var a=function(s,u){s.isSame(r)&&(n.off("flush",a),o(s))};n.on("flush",a)})]})})},e.prototype.dispatchSingle=function(r){return w(this,void 0,void 0,function(){var n=this;return O(this,function(i){return r.log("debug","Dispatching"),r.stats.increment("message_dispatched"),this.queue.updateAttempts(r),r.attempts=1,[2,this.deliver(r).catch(function(o){var a=n.enqueuRetry(o,r);return a?n.subscribeToDelivery(r):(r.setFailedDelivery({reason:o}),r)})]})})},e.prototype.isEmpty=function(){return this.queue.length===0},e.prototype.scheduleFlush=function(r){var n=this;r===void 0&&(r=500),!this.flushing&&(this.flushing=!0,setTimeout(function(){n.flush().then(function(){setTimeout(function(){n.flushing=!1,n.queue.length&&n.scheduleFlush(0)},0)})},r))},e.prototype.deliver=function(r){return w(this,void 0,void 0,function(){var n,i,o,a;return O(this,function(s){switch(s.label){case 0:return[4,this.criticalTasks.done()];case 1:s.sent(),n=Date.now(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.flushOne(r)];case 3:return r=s.sent(),i=Date.now()-n,this.emit("delivery_success",r),r.stats.gauge("delivered",i),r.log("debug","Delivered",r.event),[2,r];case 4:throw o=s.sent(),a=o,r.log("error","Failed to deliver",a),this.emit("delivery_failure",r,a),r.stats.increment("delivery_failed"),o;case 5:return[2]}})})},e.prototype.enqueuRetry=function(r,n){var i=!(r instanceof Fe)||r.retry;return i?this.queue.pushWithBackoff(n):!1},e.prototype.flush=function(){return w(this,void 0,void 0,function(){var r,n,i;return O(this,function(o){switch(o.label){case 0:if(this.queue.length===0)return[2,[]];if(r=this.queue.pop(),!r)return[2,[]];r.attempts=this.queue.getAttempts(r),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.deliver(r)];case 2:return r=o.sent(),this.emit("flush",r,!0),[3,4];case 3:return n=o.sent(),i=this.enqueuRetry(n,r),i||(r.setFailedDelivery({reason:n}),this.emit("flush",r,!1)),[2,[]];case 4:return[2,[r]]}})})},e.prototype.isReady=function(){return!0},e.prototype.availableExtensions=function(r){var n=this.plugins.filter(function(d){var h,y,S;if(d.type!=="destination"&&d.name!=="Segment.io")return!0;var b=void 0;return(h=d.alternativeNames)===null||h===void 0||h.forEach(function(E){r[E]!==void 0&&(b=r[E])}),(S=(y=r[d.name])!==null&&y!==void 0?y:b)!==null&&S!==void 0?S:(d.name==="Segment.io"?!0:r.All)!==!1}),i=Js(n,"type"),o=i.before,a=o===void 0?[]:o,s=i.enrichment,u=s===void 0?[]:s,c=i.destination,l=c===void 0?[]:c,f=i.after,p=f===void 0?[]:f;return{before:a,enrichment:u,destinations:l,after:p}},e.prototype.flushOne=function(r){var n,i;return w(this,void 0,void 0,function(){var o,a,s,u,c,l,h,f,p,d,h,y,S,b,E;return O(this,function(T){switch(T.label){case 0:if(!this.isReady())throw new Error("Not ready");r.attempts>1&&this.emit("delivery_retry",r),o=this.availableExtensions((n=r.event.integrations)!==null&&n!==void 0?n:{}),a=o.before,s=o.enrichment,u=0,c=a,T.label=1;case 1:return u<c.length?(l=c[u],[4,eu(r,l)]):[3,4];case 2:h=T.sent(),h instanceof Vt&&(r=h),this.emit("message_enriched",r,l),T.label=3;case 3:return u++,[3,1];case 4:f=0,p=s,T.label=5;case 5:return f<p.length?(d=p[f],[4,yt(r,d)]):[3,8];case 6:h=T.sent(),h instanceof Vt&&(r=h),this.emit("message_enriched",r,d),T.label=7;case 7:return f++,[3,5];case 8:return y=this.availableExtensions((i=r.event.integrations)!==null&&i!==void 0?i:{}),S=y.destinations,b=y.after,[4,new Promise(function(A,N){setTimeout(function(){var R=S.map(function(F){return yt(r,F)});Promise.all(R).then(A).catch(N)},0)})];case 9:return T.sent(),r.stats.increment("message_delivered"),this.emit("message_delivered",r),E=b.map(function(A){return yt(r,A)}),[4,Promise.all(E)];case 10:return T.sent(),[2,r]}})})},e}(bn),ru=function(t,e){var r=Date.now()-t;return Math.max((e??300)-r,0)};function nu(t,e,r,n){return w(this,void 0,void 0,function(){var i,o;return O(this,function(a){switch(a.label){case 0:return r.emit("dispatch_start",t),i=Date.now(),e.isEmpty()?[4,e.dispatchSingle(t)]:[3,2];case 1:return o=a.sent(),[3,4];case 2:return[4,e.dispatch(t)];case 3:o=a.sent(),a.label=4;case 4:return n?.callback?[4,Hs(o,n.callback,ru(i,n.timeout))]:[3,6];case 5:o=a.sent(),a.label=6;case 6:return n?.debug&&o.flush(),[2,o]}})})}function yo(t,e,r,n){var i,o=[t,e,r,n],a=ue(t)?t.event:t;if(!a||!Ye(a))throw new Error("Event missing");var s=ue(t)?(i=t.properties)!==null&&i!==void 0?i:{}:ue(e)?e:{},u={};Qe(r)||(u=r??{}),ue(t)&&!Qe(e)&&(u=e??{});var c=o.find(Qe);return[a,s,u,c]}function Ur(t,e,r,n,i){var o,a,s=null,u=null,c=[t,e,r,n,i],l=c.filter(Ye);l[0]!==void 0&&l[1]!==void 0&&(s=l[0],u=l[1]),l.length===1&&(s=null,u=l[0]);var f=c.find(Qe),p=c.filter(function(y){return u===null?ue(y):ue(y)||y===null}),d=(o=p[0])!==null&&o!==void 0?o:{},h=(a=p[1])!==null&&a!==void 0?a:{};return[s,u,d,h,f]}var Br=function(t){return function(){for(var e,r,n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];for(var a={},s=["callback","options","traits","id"],u=0,c=i;u<c.length;u++){var l=c[u],f=s.pop();if(f==="id"){if(Ye(l)||Fr(l)){a.id=l.toString();continue}if(l==null)continue;f=s.pop()}if((f==="traits"||f==="options")&&(l==null||ue(l))&&(a[f]=l),Qe(l)){a.callback=l;break}}return[(e=a.id)!==null&&e!==void 0?e:t.id(),(r=a.traits)!==null&&r!==void 0?r:{},(n=a.options)!==null&&n!==void 0?n:{},a.callback]}};function mo(t,e,r,n){Fr(t)&&(t=t.toString()),Fr(e)&&(e=e.toString());var i=[t,e,r,n],o=i.filter(Ye),a=o[0],s=a===void 0?t:a,u=o[1],c=u===void 0?null:u,l=i.filter(ue)[0],f=l===void 0?{}:l,p=i.find(Qe);return[s,c,f,p]}function wn(){return typeof window<"u"}function Wg(){return!wn()}function iu(){return wn()?window.navigator.onLine:!0}function Et(){return!iu()}function ou(t,e){return e=e||{},new Promise(function(r,n){var i=new XMLHttpRequest,o=[],a=[],s={},u=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return a},get:function(l){return s[l.toLowerCase()]},has:function(l){return l.toLowerCase()in s}}}};for(var c in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(l,f,p){o.push(f=f.toLowerCase()),a.push([f,p]),s[f]=s[f]?s[f]+","+p:p}),r(u())},i.onerror=n,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(c,e.headers[c]);i.send(e.body||null)})}var On=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:null},ir=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=On();return(r&&r.fetch||ou).apply(void 0,t)},or="1.75.0",bo="api.segment.io/v1",au=function(t,e,r){var n=e.reduce(function(i,o){var a=o.split(":"),s=a[0],u=a[1];return i[s]=u,i},{});return{type:"Counter",metric:t,value:1,tags:g(g({},n),{library:"analytics.js",library_version:"npm:next-".concat(or)})}};function wr(t){console.error("Error sending segment performance metrics",t)}var su=function(){function t(e){var r=this,n,i,o,a,s;if(this.host=(n=e?.host)!==null&&n!==void 0?n:bo,this.sampleRate=(i=e?.sampleRate)!==null&&i!==void 0?i:1,this.flushTimer=(o=e?.flushTimer)!==null&&o!==void 0?o:30*1e3,this.maxQueueSize=(a=e?.maxQueueSize)!==null&&a!==void 0?a:20,this.protocol=(s=e?.protocol)!==null&&s!==void 0?s:"https",this.queue=[],this.sampleRate>0){var u=!1,c=function(){u||(u=!0,r.flush().catch(wr),u=!1,setTimeout(c,r.flushTimer))};c()}}return t.prototype.increment=function(e,r){if(e.includes("analytics_js.")&&r.length!==0&&!(Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var n=au(e,r);this.queue.push(n),e.includes("error")&&this.flush().catch(wr)}},t.prototype.flush=function(){return w(this,void 0,void 0,function(){var e=this;return O(this,function(r){switch(r.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch(function(n){wr(n),e.sampleRate=0})];case 1:return r.sent(),[2]}})})},t.prototype.send=function(){return w(this,void 0,void 0,function(){var e,r,n;return O(this,function(i){return e={series:this.queue},this.queue=[],r={"Content-Type":"text/plain"},n="".concat(this.protocol,"://").concat(this.host,"/m"),[2,ir(n,{headers:r,body:JSON.stringify(e),method:"POST"})]})})},t}(),Pt,Eo=function(t){Q(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.initRemoteMetrics=function(r){Pt=new su(r)},e.prototype.increment=function(r,n,i){t.prototype.increment.call(this,r,n,i),Pt?.increment(r,i??[])},e}(_o),he=function(t){Q(e,t);function e(r,n){return t.call(this,r,n,new Eo)||this}return e.system=function(){return new this({type:"track",event:"system"})},e}(Vt),So="bpc",wo=function(t,e,r,n,i,o){return{__t:So,c:e,p:n,u:t,s:r,t:i,r:o}},uu=Object.keys(wo("","","","","",""));function cu(t){if(!ue(t)||t.__t!==So)return!1;for(var e in t)if(!uu.includes(e))return!1;return!0}var lu=function(t,e){return t.indexOf("?")>-1?t:t+e},fu=function(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)},du=function(t){try{return new URL(t).pathname}catch{return t[0]==="/"?t:"/"+t}},Oo=function(t){var e=t.c,r=t.p,n=t.s,i=t.u,o=t.r,a=t.t,s=e?du(e):r,u=e?lu(e,n):fu(i);return{path:s,referrer:o,search:n,title:a,url:u}},To=function(){var t=document.querySelector("link[rel='canonical']");return wo(location.href,t&&t.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},pu=function(){return Oo(To())};function hu(t,e){return Object.assign.apply(Object,B([{}],e.map(function(r){var n;if(t&&Object.prototype.hasOwnProperty.call(t,r))return n={},n[r]=t[r],n}),!1))}var Ke=function(t,e){e===void 0&&(e=pu());var r=t.context,n;t.type==="page"&&(n=t.properties&&hu(t.properties,Object.keys(e)),t.properties=g(g(g({},e),t.properties),t.name?{name:t.name}:{})),r.page=g(g(g({},e),n),r.page)},Io=function(t){Q(e,t);function e(r){var n=t.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat(Sn())},onEventMethodCall:function(i){var o=i.options;n.maybeUpdateAnonId(o)},onFinishedEvent:function(i){return n.addIdentity(i),i}})||this;return n.user=r,n}return e.prototype.maybeUpdateAnonId=function(r){r?.anonymousId&&this.user.anonymousId(r.anonymousId)},e.prototype.addIdentity=function(r){this.user.id()&&(r.userId=this.user.id()),this.user.anonymousId()&&(r.anonymousId=this.user.anonymousId())},e.prototype.track=function(r,n,i,o,a){var s=t.prototype.track.call(this,r,n,i,o);return Ke(s,a),s},e.prototype.page=function(r,n,i,o,a,s){var u=t.prototype.page.call(this,r,n,i,o,a);return Ke(u,s),u},e.prototype.screen=function(r,n,i,o,a,s){var u=t.prototype.screen.call(this,r,n,i,o,a);return Ke(u,s),u},e.prototype.identify=function(r,n,i,o,a){var s=t.prototype.identify.call(this,r,n,i,o);return Ke(s,a),s},e.prototype.group=function(r,n,i,o,a){var s=t.prototype.group.call(this,r,n,i,o);return Ke(s,a),s},e.prototype.alias=function(r,n,i,o,a){var s=t.prototype.alias.call(this,r,n,i,o);return Ke(s,a),s},e}(Gs),ko=function(t){return"addMiddleware"in t&&t.type==="destination"},ve={getItem:function(){},setItem:function(){},removeItem:function(){}};try{ve=wn()&&window.localStorage?window.localStorage:ve}catch(t){console.warn("Unable to access localStorage",t)}function xo(t){var e=ve.getItem(t);return(e?JSON.parse(e):[]).map(function(r){return new he(r.event,r.id)})}function vu(t,e){var r=xo(t),n=B(B([],e,!0),r,!0),i=n.reduce(function(o,a){var s;return g(g({},o),(s={},s[a.id]=a,s))},{});ve.setItem(t,JSON.stringify(Object.values(i)))}function Ao(t){var e=ve.getItem(t);return e?JSON.parse(e):{}}function gu(t,e){var r=Ao(t);ve.setItem(t,JSON.stringify(g(g({},r),e)))}function ri(t){ve.removeItem(t)}var _u=function(){return new Date().getTime()};function Gr(t,e,r){r===void 0&&(r=0);var n=50,i="persisted-queue:v1:".concat(t,":lock"),o=function(c){return new Date().getTime()>c},a=ve.getItem(i),s=a?JSON.parse(a):null,u=s===null||o(s);if(u){ve.setItem(i,JSON.stringify(_u()+n)),e(),ve.removeItem(i);return}!u&&r<3?setTimeout(function(){Gr(t,e,r+1)},n):console.error("Unable to retrieve lock")}var Tn=function(t){Q(e,t);function e(r,n){var i=t.call(this,r,[])||this,o="persisted-queue:v1:".concat(n,":items"),a="persisted-queue:v1:".concat(n,":seen"),s=[],u={};return Gr(n,function(){try{s=xo(o),u=Ao(a),ri(o),ri(a),i.queue=B(B([],s,!0),i.queue,!0),i.seen=g(g({},u),i.seen)}catch(c){console.error(c)}}),window.addEventListener("pagehide",function(){if(i.todo>0){var c=B(B([],i.queue,!0),i.future,!0);try{Gr(n,function(){vu(o,c),gu(a,i.seen)})}catch(l){console.error(l)}}}),i}return e}(En),yu=function(t){Q(e,t);function e(r){return t.call(this,typeof r=="string"?new Tn(4,r):r)||this}return e.prototype.flush=function(){return w(this,void 0,void 0,function(){return O(this,function(r){return Et()?[2,[]]:[2,t.prototype.flush.call(this)]})})},e}(tu);function In(t){for(var e=t.constructor.prototype,r=0,n=Object.getOwnPropertyNames(e);r<n.length;r++){var i=n[r];if(i!=="constructor"){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);o&&typeof o.value=="function"&&(t[i]=t[i].bind(t))}}return t}function mu(t){var e=t.hostname,r=e.split("."),n=r[r.length-1],i=[];if(r.length===4&&parseInt(n,10)>0||r.length<=1)return i;for(var o=r.length-2;o>=0;--o)i.push(r.slice(o).join("."));return i}function bu(t){try{return new URL(t)}catch{return}}function No(t){var e=bu(t);if(e)for(var r=mu(e),n=0;n<r.length;++n){var i="__tld__",o=r[n],a={domain:"."+o};try{if(be.set(i,"1",a),be.get(i))return be.remove(i,a),o}catch{return}}}var Eu=365,Do=function(){function t(e){e===void 0&&(e=t.defaults),this.options=g(g({},t.defaults),e)}return Object.defineProperty(t,"defaults",{get:function(){return{maxage:Eu,domain:No(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),t.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},t.prototype.get=function(e){var r;try{var n=be.get(e);if(n==null)return null;try{return(r=JSON.parse(n))!==null&&r!==void 0?r:null}catch{return n??null}}catch{return null}},t.prototype.set=function(e,r){typeof r=="string"?be.set(e,r,this.opts()):r===null?be.remove(e,this.opts()):be.set(e,JSON.stringify(r),this.opts())},t.prototype.remove=function(e){return be.remove(e,this.opts())},t}(),Su=function(){function t(){}return t.prototype.localStorageWarning=function(e,r){console.warn("Unable to access ".concat(e,", localStorage may be ").concat(r))},t.prototype.get=function(e){var r;try{var n=localStorage.getItem(e);if(n===null)return null;try{return(r=JSON.parse(n))!==null&&r!==void 0?r:null}catch{return n??null}}catch{return this.localStorageWarning(e,"unavailable"),null}},t.prototype.set=function(e,r){try{localStorage.setItem(e,JSON.stringify(r))}catch{this.localStorageWarning(e,"full")}},t.prototype.remove=function(e){try{return localStorage.removeItem(e)}catch{this.localStorageWarning(e,"unavailable")}},t}(),kn=function(){function t(){this.cache={}}return t.prototype.get=function(e){var r;return(r=this.cache[e])!==null&&r!==void 0?r:null},t.prototype.set=function(e,r){this.cache[e]=r},t.prototype.remove=function(e){delete this.cache[e]},t}(),J={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"};function Ro(t){return t&&t.stores&&Array.isArray(t.stores)&&t.stores.every(function(e){return Object.values(J).includes(e)})}function wu(t){return typeof t=="object"&&t.name!==void 0}var Or=function(t,e,r,n){console.warn("".concat(t.constructor.name,": Can't ").concat(e,' key "').concat(r,'" | Err: ').concat(n))},Ie=function(){function t(e){this.stores=e}return t.prototype.get=function(e){for(var r=null,n=0,i=this.stores;n<i.length;n++){var o=i[n];try{if(r=o.get(e),r!=null)return r}catch(a){Or(o,"get",e,a)}}return null},t.prototype.set=function(e,r){this.stores.forEach(function(n){try{n.set(e,r)}catch(i){Or(n,"set",e,i)}})},t.prototype.clear=function(e){this.stores.forEach(function(r){try{r.remove(e)}catch(n){Or(r,"remove",e,n)}})},t.prototype.getAndSync=function(e){var r=this.get(e),n=typeof r=="number"?r.toString():r;return this.set(e,n),n},t}();function Yr(t){var e=t.map(function(r){var n,i;switch(wu(r)?(n=r.name,i=r.settings):n=r,n){case J.Cookie:return new Do(i);case J.LocalStorage:return new Su;case J.Memory:return new kn;default:throw new Error("Unknown Store Type: ".concat(r))}});return e}function Po(t,e){return t.map(function(r){return e&&r===J.Cookie?{name:r,settings:e}:r})}var Ne={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},xn=function(){function t(e,r){e===void 0&&(e=Ne);var n=this,i,o,a,s;this.options={},this.id=function(c){if(n.options.disable)return null;var l=n.identityStore.getAndSync(n.idKey);if(c!==void 0){n.identityStore.set(n.idKey,c);var f=c!==l&&l!==null&&c!==null;f&&n.anonymousId(null)}var p=n.identityStore.getAndSync(n.idKey);if(p)return p;var d=n.legacyUserStore.get(Ne.cookie.oldKey);return d?typeof d=="object"?d.id:d:null},this.anonymousId=function(c){var l,f;if(n.options.disable)return null;if(c===void 0){var p=(l=n.identityStore.getAndSync(n.anonKey))!==null&&l!==void 0?l:(f=n.legacySIO())===null||f===void 0?void 0:f[0];if(p)return p}return c===null?(n.identityStore.set(n.anonKey,null),n.identityStore.getAndSync(n.anonKey)):(n.identityStore.set(n.anonKey,c??Sn()),n.identityStore.getAndSync(n.anonKey))},this.traits=function(c){var l;if(!n.options.disable)return c===null&&(c={}),c&&n.traitsStore.set(n.traitsKey,c??{}),(l=n.traitsStore.get(n.traitsKey))!==null&&l!==void 0?l:{}},this.options=g(g({},Ne),e),this.cookieOptions=r,this.idKey=(o=(i=e.cookie)===null||i===void 0?void 0:i.key)!==null&&o!==void 0?o:Ne.cookie.key,this.traitsKey=(s=(a=e.localStorage)===null||a===void 0?void 0:a.key)!==null&&s!==void 0?s:Ne.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,r),this.legacyUserStore=this.createStorage(this.options,r,function(c){return c===J.Cookie}),this.traitsStore=this.createStorage(this.options,r,function(c){return c!==J.Cookie});var u=this.legacyUserStore.get(Ne.cookie.oldKey);u&&typeof u=="object"&&(u.id&&this.id(u.id),u.traits&&this.traits(u.traits)),In(this)}return t.prototype.legacySIO=function(){var e=this.legacyUserStore.get("_sio");if(!e)return null;var r=e.split("----"),n=r[0],i=r[1];return[n,i]},t.prototype.identify=function(e,r){if(!this.options.disable){r=r??{};var n=this.id();(n===null||n===e)&&(r=g(g({},this.traits()),r)),e&&this.id(e),this.traits(r)}},t.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},t.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},t.prototype.load=function(){return new t(this.options,this.cookieOptions)},t.prototype.save=function(){return!0},t.prototype.createStorage=function(e,r,n){var i=[J.LocalStorage,J.Cookie,J.Memory];return e.disable?new Ie([]):e.persist?(e.storage!==void 0&&e.storage!==null&&Ro(e.storage)&&(i=e.storage.stores),e.localStorageFallbackDisabled&&(i=i.filter(function(o){return o!==J.LocalStorage})),n&&(i=i.filter(n)),new Ie(Yr(Po(i,r)))):new Ie([new kn])},t.defaults=Ne,t}(),ni={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},Co=function(t){Q(e,t);function e(r,n){r===void 0&&(r=ni);var i=t.call(this,g(g({},ni),r),n)||this;return i.anonymousId=function(o){},In(i),i}return e}(xn),An="analytics";function Nn(){return window[An]}function Ou(t){An=t}function Tu(t){window[An]=t}var Iu=function(t){return typeof t=="object"&&t!==null&&"then"in t&&typeof t.then=="function"},Mo=function(t,e,r){r.getAndRemove(t).forEach(function(n){ar(e,n).catch(console.error)})},ku=function(t,e){return w(void 0,void 0,void 0,function(){var r,n,i;return O(this,function(o){switch(o.label){case 0:r=0,n=e.getAndRemove("addSourceMiddleware"),o.label=1;case 1:return r<n.length?(i=n[r],[4,ar(t,i).catch(console.error)]):[3,4];case 2:o.sent(),o.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},xu=function(t,e){return w(void 0,void 0,void 0,function(){var r,n,i;return O(this,function(o){switch(o.label){case 0:r=0,n=e.getAndRemove("register"),o.label=1;case 1:return r<n.length?(i=n[r],[4,ar(t,i).catch(console.error)]):[3,4];case 2:o.sent(),o.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},Au=Mo.bind(void 0,"on"),Nu=Mo.bind(void 0,"setAnonymousId"),Du=function(t,e){Object.keys(e.calls).forEach(function(r){e.getAndRemove(r).forEach(function(n){setTimeout(function(){ar(t,n).catch(console.error)},0)})})},We=function(t){if(Lo(t)){var e=t.pop();return Oo(e)}},Lo=function(t){var e=t[t.length-1];return cu(e)},qr=function(){function t(e,r,n,i){n===void 0&&(n=function(){}),i===void 0&&(i=console.error),this.method=e,this.resolve=n,this.reject=i,this.called=!1,this.args=r}return t}(),Ru=function(){function t(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._callMap={},this.add.apply(this,e)}return Object.defineProperty(t.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(e){this._callMap=e},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var r;return(r=this.calls[e])!==null&&r!==void 0?r:[]},t.prototype.getAndRemove=function(e){var r=this.get(e);return this.calls[e]=[],r},t.prototype.add=function(){for(var e=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];r.forEach(function(i){var o=["track","screen","alias","group","page","identify"];o.includes(i.method)&&!Lo(i.args)&&(i.args=B(B([],i.args,!0),[To()],!1)),e.calls[i.method]?e.calls[i.method].push(i):e.calls[i.method]=[i]})},t.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},t.prototype.toArray=function(){var e;return(e=[]).concat.apply(e,Object.values(this.calls))},t.prototype._pushSnippetWindowBuffer=function(){},t}();function ar(t,e){return w(this,void 0,void 0,function(){var r,n;return O(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),e.called?[2,void 0]:(e.called=!0,r=t[e.method].apply(t,e.args),Iu(r)?[4,r]:[3,2]);case 1:i.sent(),i.label=2;case 2:return e.resolve(r),[3,4];case 3:return n=i.sent(),e.reject(n),[3,4];case 4:return[2]}})})}var Pu=function(){function t(e){var r=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=or,this._preInitBuffer=new Ru,this._promise=e(this._preInitBuffer),this._promise.then(function(n){var i=n[0],o=n[1];r.instance=i,r.ctx=o}).catch(function(){})}return t.prototype.then=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=this._promise).then.apply(e,r)},t.prototype.catch=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=this._promise).catch.apply(e,r)},t.prototype.finally=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=this._promise).finally.apply(e,r)},t.prototype._createMethod=function(e){var r=this;return function(){for(var n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(r.instance){var a=(n=r.instance)[e].apply(n,i);return Promise.resolve(a)}return new Promise(function(s,u){r._preInitBuffer.add(new qr(e,i,s,u))})}},t.prototype._createChainableMethod=function(e){var r=this;return function(){for(var n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return r.instance?((n=r.instance)[e].apply(n,i),r):(r._preInitBuffer.add(new qr(e,i)),r)}},t}(),we={},ge={},Dn={},$o={exports:{}};(function(t){t.exports=e(r),t.exports.find=t.exports,t.exports.replace=function(s,u,c,l){return e(i).call(this,s,u,c,l),s},t.exports.del=function(s,u,c){return e(n).call(this,s,u,null,c),s};function e(s){return function(u,c,l,f){var p=f&&a(f.normalizer)?f.normalizer:o;c=p(c);for(var d,h=!1;!h;)y();function y(){for(d in u){var S=p(d);if(c.indexOf(S)===0){var b=c.substr(S.length);if(b.charAt(0)==="."||b.length===0){c=b.substr(1);var E=u[d];if(E==null){h=!0;return}if(!c.length){h=!0;return}u=E;return}}}d=void 0,h=!0}if(d)return u==null?u:s(u,d,l)}}function r(s,u){if(s.hasOwnProperty(u))return s[u]}function n(s,u){return s.hasOwnProperty(u)&&delete s[u],s}function i(s,u,c){return s.hasOwnProperty(u)&&(s[u]=c),s}function o(s){return s.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function a(s){return typeof s=="function"}})($o);var sr=$o.exports,Cu=U&&U.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Dn,"__esModule",{value:!0});var Se=Cu(sr);function Ve(t,e){return function(){var r=this.traits(),n=this.properties?this.properties():{};return Se.default(r,"address."+t)||Se.default(r,t)||(e?Se.default(r,"address."+e):null)||(e?Se.default(r,e):null)||Se.default(n,"address."+t)||Se.default(n,t)||(e?Se.default(n,"address."+e):null)||(e?Se.default(n,e):null)}}function Mu(t){t.zip=Ve("postalCode","zip"),t.country=Ve("country"),t.street=Ve("street"),t.state=Ve("state"),t.city=Ve("city"),t.region=Ve("region")}Dn.default=Mu;var ur={};Object.defineProperty(ur,"__esModule",{value:!0});ur.clone=void 0;function Hr(t){if(typeof t!="object")return t;if(Object.prototype.toString.call(t)==="[object Object]"){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Hr(t[r]));return e}else return Array.isArray(t)?t.map(Hr):t}ur.clone=Hr;var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});var Lu={Salesforce:!0};function $u(t){return!Lu[t]}Rn.default=$u;var cr={},jo=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;cr.parse=function(t){var e=[1,5,6,7,11,12],r=jo.exec(t),n=0;if(!r)return new Date(t);for(var i=0,o;o=e[i];i++)r[o]=parseInt(r[o],10)||0;r[2]=parseInt(r[2],10)||1,r[3]=parseInt(r[3],10)||1,r[2]--,r[8]=r[8]?(r[8]+"00").substring(0,3):0,r[4]===" "?n=new Date().getTimezoneOffset():r[9]!=="Z"&&r[10]&&(n=r[11]*60+r[12],r[10]==="+"&&(n=0-n));var a=Date.UTC(r[1],r[2],r[3],r[5],r[6]+n,r[7],r[8]);return new Date(a)};cr.is=function(t,e){return typeof t!="string"||e&&/^\d{4}-\d{2}-\d{2}/.test(t)===!1?!1:jo.test(t)};var Pn={},ju=/\d{13}/;Pn.is=function(t){return ju.test(t)};Pn.parse=function(t){return t=parseInt(t,10),new Date(t)};var Cn={},Fu=/\d{10}/;Cn.is=function(t){return Fu.test(t)};Cn.parse=function(t){var e=parseInt(t,10)*1e3;return new Date(e)};var ii=cr,oi=Pn,ai=Cn,Uu=Object.prototype,Fo=Uu.toString;function Bu(t){return Fo.call(t)==="[object Date]"}function Gu(t){return Fo.call(t)==="[object Number]"}var Mn=function(e){return Bu(e)?e:Gu(e)?new Date(Yu(e)):ii.is(e)?ii.parse(e):oi.is(e)?oi.parse(e):ai.is(e)?ai.parse(e):new Date(e)};function Yu(t){return t<315576e5?t*1e3:t}var si=cr,qu=Ln;function Ln(t,e){return e===void 0&&(e=!0),t&&typeof t=="object"?Hu(t,e):Array.isArray(t)?zu(t,e):si.is(t,e)?si.parse(t):t}function Hu(t,e){return Object.keys(t).forEach(function(r){t[r]=Ln(t[r],e)}),t}function zu(t,e){return t.forEach(function(r,n){t[n]=Ln(r,e)}),t}var Tt=U&&U.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ge,"__esModule",{value:!0});ge.Facade=void 0;var Ku=Tt(Dn),it=ur,Wu=Tt(Rn),Vu=Tt(Mn),zr=Tt(sr),Ju=Tt(qu);function Z(t,e){e=e||{},this.raw=it.clone(t),"clone"in e||(e.clone=!0),e.clone&&(t=it.clone(t)),"traverse"in e||(e.traverse=!0),"timestamp"in t?t.timestamp=Vu.default(t.timestamp):t.timestamp=new Date,e.traverse&&Ju.default(t),this.opts=e,this.obj=t}ge.Facade=Z;var L=Z.prototype;L.proxy=function(t){var e=t.split(".");t=e.shift();var r=this[t]||this.obj[t];return r&&(typeof r=="function"&&(r=r.call(this)||{}),e.length===0?this.opts.clone?Kr(r):r:(r=zr.default(r,e.join(".")),this.opts.clone?Kr(r):r))};L.field=function(t){var e=this.obj[t];return this.opts.clone?Kr(e):e};Z.proxy=function(t){return function(){return this.proxy(t)}};Z.field=function(t){return function(){return this.field(t)}};Z.multi=function(t){return function(){var e=this.proxy(t+"s");if(Array.isArray(e))return e;var r=this.proxy(t);return r&&(r=[this.opts.clone?it.clone(r):r]),r||[]}};Z.one=function(t){return function(){var e=this.proxy(t);if(e)return e;var r=this.proxy(t+"s");if(Array.isArray(r))return r[0]}};L.json=function(){var t=this.opts.clone?it.clone(this.obj):this.obj;return this.type&&(t.type=this.type()),t};L.rawEvent=function(){return this.raw};L.options=function(t){var e=this.obj.options||this.obj.context||{},r=this.opts.clone?it.clone(e):e;if(!t)return r;if(this.enabled(t)){var n=this.integrations(),i=n[t]||zr.default(n,t);return typeof i!="object"&&(i=zr.default(this.options(),t)),typeof i=="object"?i:{}}};L.context=L.options;L.enabled=function(t){var e=this.proxy("options.providers.all");typeof e!="boolean"&&(e=this.proxy("options.all")),typeof e!="boolean"&&(e=this.proxy("integrations.all")),typeof e!="boolean"&&(e=!0);var r=e&&Wu.default(t),n=this.integrations();if(n.providers&&n.providers.hasOwnProperty(t)&&(r=n.providers[t]),n.hasOwnProperty(t)){var i=n[t];typeof i=="boolean"?r=i:r=!0}return!!r};L.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()};L.active=function(){var t=this.proxy("options.active");return t==null&&(t=!0),t};L.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")};L.sessionId=L.anonymousId;L.groupId=Z.proxy("options.groupId");L.traits=function(t){var e=this.proxy("options.traits")||{},r=this.userId();t=t||{},r&&(e.id=r);for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=this[n]==null?this.proxy("options.traits."+n):this[n]();if(i==null)continue;e[t[n]]=i,delete e[n]}return e};L.library=function(){var t=this.proxy("options.library");return t?typeof t=="string"?{name:t,version:null}:t:{name:"unknown",version:null}};L.device=function(){var t=this.proxy("context.device");(typeof t!="object"||t===null)&&(t={});var e=this.library().name;return t.type||(e.indexOf("ios")>-1&&(t.type="ios"),e.indexOf("android")>-1&&(t.type="android")),t};L.userAgent=Z.proxy("context.userAgent");L.timezone=Z.proxy("context.timezone");L.timestamp=Z.field("timestamp");L.channel=Z.field("channel");L.ip=Z.proxy("context.ip");L.userId=Z.field("userId");Ku.default(L);function Kr(t){return it.clone(t)}var lr={},Xu=U&&U.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lr,"__esModule",{value:!0});lr.Alias=void 0;var Qu=Xu(Ge),Uo=ge;function le(t,e){Uo.Facade.call(this,t,e)}lr.Alias=le;Qu.default(le,Uo.Facade);le.prototype.action=function(){return"alias"};le.prototype.type=le.prototype.action;le.prototype.previousId=function(){return this.field("previousId")||this.field("from")};le.prototype.from=le.prototype.previousId;le.prototype.userId=function(){return this.field("userId")||this.field("to")};le.prototype.to=le.prototype.userId;var fr={},st={};Object.defineProperty(st,"__esModule",{value:!0});var Zu=/.+\@.+\..+/;function ec(t){return Zu.test(t)}st.default=ec;var $n=U&&U.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fr,"__esModule",{value:!0});fr.Group=void 0;var tc=$n(Ge),rc=$n(st),nc=$n(Mn),ut=ge;function jn(t,e){ut.Facade.call(this,t,e)}fr.Group=jn;tc.default(jn,ut.Facade);var fe=jn.prototype;fe.action=function(){return"group"};fe.type=fe.action;fe.groupId=ut.Facade.field("groupId");fe.created=function(){var t=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(t)return nc.default(t)};fe.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.groupId();if(rc.default(e))return e};fe.traits=function(t){var e=this.properties(),r=this.groupId();t=t||{},r&&(e.id=r);for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=this[n]==null?this.proxy("traits."+n):this[n]();if(i==null)continue;e[t[n]]=i,delete e[n]}return e};fe.name=ut.Facade.proxy("traits.name");fe.industry=ut.Facade.proxy("traits.industry");fe.employees=ut.Facade.proxy("traits.employees");fe.properties=function(){return this.field("traits")||this.field("properties")||{}};var It={},dr=U&&U.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(It,"__esModule",{value:!0});It.Identify=void 0;var _e=ge,Ze=dr(sr),ic=dr(Ge),oc=dr(st),Bo=dr(Mn),Le=function(t){return t.trim()};function Fn(t,e){_e.Facade.call(this,t,e)}It.Identify=Fn;ic.default(Fn,_e.Facade);var $=Fn.prototype;$.action=function(){return"identify"};$.type=$.action;$.traits=function(t){var e=this.field("traits")||{},r=this.userId();t=t||{},r&&(e.id=r);for(var n in t){var i=this[n]==null?this.proxy("traits."+n):this[n]();i!=null&&(e[t[n]]=i,n!==t[n]&&delete e[n])}return e};$.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.userId();if(oc.default(e))return e};$.created=function(){var t=this.proxy("traits.created")||this.proxy("traits.createdAt");if(t)return Bo.default(t)};$.companyCreated=function(){var t=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(t)return Bo.default(t)};$.companyName=function(){return this.proxy("traits.company.name")};$.name=function(){var t=this.proxy("traits.name");if(typeof t=="string")return Le(t);var e=this.firstName(),r=this.lastName();if(e&&r)return Le(e+" "+r)};$.firstName=function(){var t=this.proxy("traits.firstName");if(typeof t=="string")return Le(t);var e=this.proxy("traits.name");if(typeof e=="string")return Le(e).split(" ")[0]};$.lastName=function(){var t=this.proxy("traits.lastName");if(typeof t=="string")return Le(t);var e=this.proxy("traits.name");if(typeof e=="string"){var r=Le(e).indexOf(" ");if(r!==-1)return Le(e.substr(r+1))}};$.uid=function(){return this.userId()||this.username()||this.email()};$.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")};$.age=function(){var t=this.birthday(),e=Ze.default(this.traits(),"age");if(e!=null)return e;if(t instanceof Date){var r=new Date;return r.getFullYear()-t.getFullYear()}};$.avatar=function(){var t=this.traits();return Ze.default(t,"avatar")||Ze.default(t,"photoUrl")||Ze.default(t,"avatarUrl")};$.position=function(){var t=this.traits();return Ze.default(t,"position")||Ze.default(t,"jobTitle")};$.username=_e.Facade.proxy("traits.username");$.website=_e.Facade.one("traits.website");$.websites=_e.Facade.multi("traits.website");$.phone=_e.Facade.one("traits.phone");$.phones=_e.Facade.multi("traits.phone");$.address=_e.Facade.proxy("traits.address");$.gender=_e.Facade.proxy("traits.gender");$.birthday=_e.Facade.proxy("traits.birthday");var ct={},Un=U&&U.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ct,"__esModule",{value:!0});ct.Track=void 0;var ac=Un(Ge),G=ge,sc=It,uc=Un(st),Go=Un(sr);function Bn(t,e){G.Facade.call(this,t,e)}ct.Track=Bn;ac.default(Bn,G.Facade);var k=Bn.prototype;k.action=function(){return"track"};k.type=k.action;k.event=G.Facade.field("event");k.value=G.Facade.proxy("properties.value");k.category=G.Facade.proxy("properties.category");k.id=G.Facade.proxy("properties.id");k.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")};k.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")};k.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")};k.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")};k.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")};k.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")};k.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")};k.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")};k.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")};k.sku=G.Facade.proxy("properties.sku");k.tax=G.Facade.proxy("properties.tax");k.name=G.Facade.proxy("properties.name");k.price=G.Facade.proxy("properties.price");k.total=G.Facade.proxy("properties.total");k.repeat=G.Facade.proxy("properties.repeat");k.coupon=G.Facade.proxy("properties.coupon");k.shipping=G.Facade.proxy("properties.shipping");k.discount=G.Facade.proxy("properties.discount");k.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")};k.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")};k.description=G.Facade.proxy("properties.description");k.plan=G.Facade.proxy("properties.plan");k.subtotal=function(){var t=Go.default(this.properties(),"subtotal"),e=this.total()||this.revenue();if(t)return t;if(!e)return 0;if(this.total()){var r=this.tax();r&&(e-=r),r=this.shipping(),r&&(e-=r),r=this.discount(),r&&(e+=r)}return e};k.products=function(){var t=this.properties(),e=Go.default(t,"products");return Array.isArray(e)?e.filter(function(r){return r!==null}):[]};k.quantity=function(){var t=this.obj.properties||{};return t.quantity||1};k.currency=function(){var t=this.obj.properties||{};return t.currency||"USD"};k.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};k.query=G.Facade.proxy("options.query");k.properties=function(t){var e=this.field("properties")||{};t=t||{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=this[r]==null?this.proxy("properties."+r):this[r]();if(n==null)continue;e[t[r]]=n,delete e[r]}return e};k.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()};k.email=function(){var t=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(t)return t;var e=this.userId();if(uc.default(e))return e};k.revenue=function(){var t=this.proxy("properties.revenue"),e=this.event(),r=/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i;return!t&&e&&e.match(r)&&(t=this.proxy("properties.total")),cc(t)};k.cents=function(){var t=this.revenue();return typeof t!="number"?this.value()||0:t*100};k.identify=function(){var t=this.json();return t.traits=this.traits(),new sc.Identify(t,this.opts)};function cc(t){if(t){if(typeof t=="number")return t;if(typeof t=="string"&&(t=t.replace(/\$/g,""),t=parseFloat(t),!isNaN(t)))return t}}var kt={},Yo=U&&U.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kt,"__esModule",{value:!0});kt.Page=void 0;var lc=Yo(Ge),qe=ge,fc=ct,dc=Yo(st);function Gn(t,e){qe.Facade.call(this,t,e)}kt.Page=Gn;lc.default(Gn,qe.Facade);var X=Gn.prototype;X.action=function(){return"page"};X.type=X.action;X.category=qe.Facade.field("category");X.name=qe.Facade.field("name");X.title=qe.Facade.proxy("properties.title");X.path=qe.Facade.proxy("properties.path");X.url=qe.Facade.proxy("properties.url");X.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")};X.properties=function(t){var e=this.field("properties")||{},r=this.category(),n=this.name();t=t||{},r&&(e.category=r),n&&(e.name=n);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=this[i]==null?this.proxy("properties."+i):this[i]();if(o==null)continue;e[t[i]]=o,i!==t[i]&&delete e[i]}return e};X.email=function(){var t=this.proxy("context.traits.email")||this.proxy("properties.email");if(t)return t;var e=this.userId();if(dc.default(e))return e};X.fullName=function(){var t=this.category(),e=this.name();return e&&t?t+" "+e:e};X.event=function(t){return t?"Viewed "+t+" Page":"Loaded a Page"};X.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new fc.Track(e,this.opts)};var pr={},pc=U&&U.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pr,"__esModule",{value:!0});pr.Screen=void 0;var hc=pc(Ge),qo=kt,vc=ct;function Ue(t,e){qo.Page.call(this,t,e)}pr.Screen=Ue;hc.default(Ue,qo.Page);Ue.prototype.action=function(){return"screen"};Ue.prototype.type=Ue.prototype.action;Ue.prototype.event=function(t){return t?"Viewed "+t+" Screen":"Loaded a Screen"};Ue.prototype.track=function(t){var e=this.json();return e.event=this.event(t),e.timestamp=this.timestamp(),e.properties=this.properties(),new vc.Track(e,this.opts)};var hr={},gc=U&&U.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hr,"__esModule",{value:!0});hr.Delete=void 0;var _c=gc(Ge),Ho=ge;function Yn(t,e){Ho.Facade.call(this,t,e)}hr.Delete=Yn;_c.default(Yn,Ho.Facade);Yn.prototype.type=function(){return"delete"};(function(t){var e=U&&U.__assign||function(){return e=Object.assign||function(l){for(var f,p=1,d=arguments.length;p<d;p++){f=arguments[p];for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(l[h]=f[h])}return l},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Delete=t.Screen=t.Page=t.Track=t.Identify=t.Group=t.Alias=t.Facade=void 0;var r=ge;Object.defineProperty(t,"Facade",{enumerable:!0,get:function(){return r.Facade}});var n=lr;Object.defineProperty(t,"Alias",{enumerable:!0,get:function(){return n.Alias}});var i=fr;Object.defineProperty(t,"Group",{enumerable:!0,get:function(){return i.Group}});var o=It;Object.defineProperty(t,"Identify",{enumerable:!0,get:function(){return o.Identify}});var a=ct;Object.defineProperty(t,"Track",{enumerable:!0,get:function(){return a.Track}});var s=kt;Object.defineProperty(t,"Page",{enumerable:!0,get:function(){return s.Page}});var u=pr;Object.defineProperty(t,"Screen",{enumerable:!0,get:function(){return u.Screen}});var c=hr;Object.defineProperty(t,"Delete",{enumerable:!0,get:function(){return c.Delete}}),t.default=e(e({},r.Facade),{Alias:n.Alias,Group:i.Group,Identify:o.Identify,Track:a.Track,Page:s.Page,Screen:u.Screen,Delete:c.Delete})})(we);function Jt(t,e){var r=new we.Facade(t,e);return t.type==="track"&&(r=new we.Track(t,e)),t.type==="identify"&&(r=new we.Identify(t,e)),t.type==="page"&&(r=new we.Page(t,e)),t.type==="alias"&&(r=new we.Alias(t,e)),t.type==="group"&&(r=new we.Group(t,e)),t.type==="screen"&&(r=new we.Screen(t,e)),Object.defineProperty(r,"obj",{value:t,writable:!0}),r}var yc=function(t){var e=!1;window.addEventListener("pagehide",function(){e||(e=!0,t(e))}),document.addEventListener("visibilitychange",function(){if(document.visibilityState=="hidden"){if(e)return;e=!0}else e=!1;t(e)})},zo=function(t){Q(e,t);function e(r,n){var i=t.call(this,r)||this;return i.retryTimeout=n,i.name="RateLimitError",i}return e}(Error),mc=500,bc=64;function qn(t){var e=encodeURI(JSON.stringify(t)).split(/%..|./).length-1;return e/1024}function Ec(t){return qn(t)>=mc-50}function Sc(t){return qn(t)>=bc-10}function wc(t){var e=[],r=0;return t.forEach(function(n){var i=qn(e[r]);i>=64&&r++,e[r]?e[r].push(n):e[r]=[n]}),e}function Oc(t,e){var r,n,i=[],o=!1,a=(r=e?.size)!==null&&r!==void 0?r:10,s=(n=e?.timeout)!==null&&n!==void 0?n:5e3,u=0;function c(h){var y;if(h.length!==0){var S=(y=h[0])===null||y===void 0?void 0:y.writeKey,b=h.map(function(E){var T=E;T.sentAt;var A=to(T,["sentAt"]);return A});return ir("https://".concat(t,"/b"),{keepalive:e?.keepalive||o,headers:{"Content-Type":"text/plain"},method:"post",body:JSON.stringify({writeKey:S,batch:b,sentAt:new Date().toISOString()})}).then(function(E){var T;if(E.status>=500)throw new Error("Bad response from server: ".concat(E.status));if(E.status===429){var A=(T=E.headers)===null||T===void 0?void 0:T.get("x-ratelimit-reset"),N=typeof A=="string"?parseInt(A)*1e3:s;throw new zo("Rate limit exceeded: ".concat(E.status),N)}})}}function l(h){var y;return h===void 0&&(h=1),w(this,void 0,void 0,function(){var S;return O(this,function(b){return i.length?(S=i,i=[],[2,(y=c(S))===null||y===void 0?void 0:y.catch(function(E){var T,A=he.system();A.log("error","Error sending batch",E),h<=((T=e?.maxRetries)!==null&&T!==void 0?T:10)&&(E.name==="RateLimitError"&&(u=E.retryTimeout),i.push.apply(i,S),i.map(function(N){if("_metadata"in N){var R=N;R._metadata=g(g({},R._metadata),{retryCount:h})}}),p(h+1))})]):[2]})})}var f;function p(h){h===void 0&&(h=1),!f&&(f=setTimeout(function(){f=void 0,l(h).catch(console.error)},u||s),u=0)}yc(function(h){if(o=h,o&&i.length){var y=wc(i).map(c);Promise.all(y).catch(console.error)}});function d(h,y){return w(this,void 0,void 0,function(){var S;return O(this,function(b){return i.push(y),S=i.length>=a||Ec(i)||e?.keepalive&&Sc(i),[2,S||o?l():p()]})})}return{dispatch:d}}function Tc(t){function e(r,n){return ir(r,{keepalive:t?.keepalive,headers:{"Content-Type":"text/plain"},method:"post",body:JSON.stringify(n)}).then(function(i){var o;if(i.status>=500)throw new Error("Bad response from server: ".concat(i.status));if(i.status===429){var a=(o=i.headers)===null||o===void 0?void 0:o.get("x-ratelimit-reset"),s=a?parseInt(a)*1e3:5e3;throw new zo("Rate limit exceeded: ".concat(i.status),s)}})}return{dispatch:e}}function Ic(t,e,r,n,i){var o,a=t.user();delete e.options,e.writeKey=r?.apiKey,e.userId=e.userId||a.id(),e.anonymousId=e.anonymousId||a.anonymousId(),e.sentAt=new Date;var s=t.queue.failedInitializations||[];s.length>0&&(e._metadata={failedInitializations:s}),i!=null&&(i.attempts>1&&(e._metadata=g(g({},e._metadata),{retryCount:i.attempts})),i.attempts++);var u=[],c=[];for(var l in n){var f=n[l];l==="Segment.io"&&u.push(l),f.bundlingStatus==="bundled"&&u.push(l),f.bundlingStatus==="unbundled"&&c.push(l)}for(var p=0,d=r?.unbundledIntegrations||[];p<d.length;p++){var h=d[p];c.includes(h)||c.push(h)}var y=(o=r?.maybeBundledConfigIds)!==null&&o!==void 0?o:{},S=[];return u.sort().forEach(function(b){var E;((E=y[b])!==null&&E!==void 0?E:[]).forEach(function(T){S.push(T)})}),r?.addBundledMetadata!==!1&&(e._metadata=g(g({},e._metadata),{bundled:u.sort(),unbundled:c.sort(),bundledIds:S})),e}var kc=function(t,e){return w(void 0,void 0,void 0,function(){var r;return O(this,function(n){return r=function(i){return w(void 0,void 0,void 0,function(){var o;return O(this,function(a){switch(a.label){case 0:return t(i)?(o=r,[4,e()]):[3,2];case 1:return[2,o.apply(void 0,[a.sent()])];case 2:return[2]}})})},[2,r(void 0)]})})};function xc(t,e){return w(this,void 0,void 0,function(){var r,n=this;return O(this,function(i){switch(i.label){case 0:return r=[],Et()?[2,e]:[4,kc(function(){return e.length>0&&!Et()},function(){return w(n,void 0,void 0,function(){var o,a,s;return O(this,function(u){switch(u.label){case 0:return o=e.pop(),o?[4,yt(o,t)]:[2];case 1:return a=u.sent(),s=a instanceof he,s||r.push(o),[2]}})})})];case 1:return i.sent(),r.map(function(o){return e.pushWithBackoff(o)}),[2,e]}})})}function Je(t,e,r,n){var i=this;t||setTimeout(function(){return w(i,void 0,void 0,function(){var o,a;return O(this,function(s){switch(s.label){case 0:return o=!0,[4,xc(r,e)];case 1:return a=s.sent(),o=!1,e.todo>0&&n(o,a,r,n),[2]}})})},Math.random()*5e3)}function Ac(t,e){var r,n,i,o,a=t.user();return e.previousId=(i=(n=(r=e.previousId)!==null&&r!==void 0?r:e.from)!==null&&n!==void 0?n:a.id())!==null&&i!==void 0?i:a.anonymousId(),e.userId=(o=e.userId)!==null&&o!==void 0?o:e.to,delete e.from,delete e.to,e}var Nc=function(t){return t.name==="Segment.io"};function Ko(t,e,r){var n,i,o;window.addEventListener("pagehide",function(){s.push.apply(s,Array.from(u)),u.clear()});var a=(n=e?.apiKey)!==null&&n!==void 0?n:"",s=t.options.disableClientPersistence?new En(t.queue.queue.maxAttempts,[]):new Tn(t.queue.queue.maxAttempts,"".concat(a,":dest-Segment.io")),u=new Set,c=!1,l=(i=e?.apiHost)!==null&&i!==void 0?i:bo,f=(o=e?.protocol)!==null&&o!==void 0?o:"https",p="".concat(f,"://").concat(l),d=e?.deliveryStrategy,h=d?.strategy==="batching"?Oc(l,d.config):Tc(d?.config);function y(b){return w(this,void 0,void 0,function(){var E,T;return O(this,function(A){return Et()?(s.push(b),Je(c,s,S,Je),[2,b]):(u.add(b),E=b.event.type.charAt(0),T=Jt(b.event).json(),b.event.type==="track"&&delete T.traits,b.event.type==="alias"&&(T=Ac(t,T)),[2,h.dispatch("".concat(p,"/").concat(E),Ic(t,T,e,r,b)).then(function(){return b}).catch(function(N){if(b.log("error","Error sending event",N),N.name==="RateLimitError"){var R=N.retryTimeout;s.pushWithBackoff(b,R)}else s.pushWithBackoff(b);return Je(c,s,S,Je),b}).finally(function(){u.delete(b)})])})})}var S={metadata:{writeKey:a,apiHost:l,protocol:f},name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:y,identify:y,page:y,alias:y,group:y,screen:y};return s.todo&&Je(c,s,S,Je),S}var Oe="This is being deprecated and will be not be available in future releases of Analytics JS",Tr=On(),Ir=Tr?.analytics;function Dc(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=e?10:1,i=r?new En(n,[]):new Tn(n,t);return new yu(i)}var Rc=function(){function t(e,r){var n;this.timeout=300,this._getSegmentPluginMetadata=function(){var i;return(i=r.plugins.find(Nc))===null||i===void 0?void 0:i.metadata},this.writeKey=e.writeKey,this.cdnSettings=(n=e.cdnSettings)!==null&&n!==void 0?n:{integrations:{},edgeFunction:{}},this.cdnURL=e.cdnURL}return Object.defineProperty(t.prototype,"apiHost",{get:function(){var e,r;return(r=(e=this._getSegmentPluginMetadata)===null||e===void 0?void 0:e.call(this))===null||r===void 0?void 0:r.apiHost},enumerable:!1,configurable:!0}),t}();function de(){console.warn(Oe)}var Hn=function(t){Q(e,t);function e(r,n,i,o,a){var s=this,u,c;s=t.call(this)||this,s._debug=!1,s.initialized=!1,s.user=function(){return s._user},s.init=s.initialize.bind(s),s.log=de,s.addIntegrationMiddleware=de,s.listeners=de,s.addEventListener=de,s.removeAllListeners=de,s.removeListener=de,s.removeEventListener=de,s.hasListeners=de,s.add=de,s.addIntegration=de;var l=n?.cookie,f=(u=n?.disableClientPersistence)!==null&&u!==void 0?u:!1;s.queue=i??Dc("".concat(r.writeKey,":event-queue"),n?.retryQueue,f),s.settings=new Rc(r,s.queue);var p=n?.storage;return s._universalStorage=s.createStore(f,p,l),s._user=o??new xn(g({persist:!f,storage:n?.storage},n?.user),l).load(),s._group=a??new Co(g({persist:!f,storage:n?.storage},n?.group),l).load(),s.eventFactory=new Io(s._user),s.integrations=(c=n?.integrations)!==null&&c!==void 0?c:{},s.options=n??{},In(s),s}return e.prototype.createStore=function(r,n,i){return r?new Ie([new kn]):n&&Ro(n)?new Ie(Yr(Po(n.stores,i))):new Ie(Yr([J.LocalStorage,{name:J.Cookie,settings:i},J.Memory]))},Object.defineProperty(e.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),e.prototype.track=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return w(this,void 0,void 0,function(){var i,o,a,s,u,c,l,f=this;return O(this,function(p){return i=We(r),o=yo.apply(void 0,r),a=o[0],s=o[1],u=o[2],c=o[3],l=this.eventFactory.track(a,s,u,this.integrations,i),[2,this._dispatch(l,c).then(function(d){return f.emit("track",a,d.event.properties,d.event.options),d})]})})},e.prototype.page=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return w(this,void 0,void 0,function(){var i,o,a,s,u,c,l,f,p=this;return O(this,function(d){return i=We(r),o=Ur.apply(void 0,r),a=o[0],s=o[1],u=o[2],c=o[3],l=o[4],f=this.eventFactory.page(a,s,u,c,this.integrations,i),[2,this._dispatch(f,l).then(function(h){return p.emit("page",a,s,h.event.properties,h.event.options),h})]})})},e.prototype.identify=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return w(this,void 0,void 0,function(){var i,o,a,s,u,c,l,f=this;return O(this,function(p){return i=We(r),o=Br(this._user).apply(void 0,r),a=o[0],s=o[1],u=o[2],c=o[3],this._user.identify(a,s),l=this.eventFactory.identify(this._user.id(),this._user.traits(),u,this.integrations,i),[2,this._dispatch(l,c).then(function(d){return f.emit("identify",d.event.userId,d.event.traits,d.event.options),d})]})})},e.prototype.group=function(){for(var r=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=We(n);if(n.length===0)return this._group;var a=Br(this._group).apply(void 0,n),s=a[0],u=a[1],c=a[2],l=a[3];this._group.identify(s,u);var f=this._group.id(),p=this._group.traits(),d=this.eventFactory.group(f,p,c,this.integrations,o);return this._dispatch(d,l).then(function(h){return r.emit("group",h.event.groupId,h.event.traits,h.event.options),h})},e.prototype.alias=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return w(this,void 0,void 0,function(){var i,o,a,s,u,c,l,f=this;return O(this,function(p){return i=We(r),o=mo.apply(void 0,r),a=o[0],s=o[1],u=o[2],c=o[3],l=this.eventFactory.alias(a,s,u,this.integrations,i),[2,this._dispatch(l,c).then(function(d){return f.emit("alias",a,s,d.event.options),d})]})})},e.prototype.screen=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return w(this,void 0,void 0,function(){var i,o,a,s,u,c,l,f,p=this;return O(this,function(d){return i=We(r),o=Ur.apply(void 0,r),a=o[0],s=o[1],u=o[2],c=o[3],l=o[4],f=this.eventFactory.screen(a,s,u,c,this.integrations,i),[2,this._dispatch(f,l).then(function(h){return p.emit("screen",a,s,h.event.properties,h.event.options),h})]})})},e.prototype.trackClick=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return w(this,void 0,void 0,function(){var i,o;return O(this,function(a){switch(a.label){case 0:return[4,oe(()=>import("./auto-track.BmJL9KRM.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)];case 1:return i=a.sent(),[2,(o=i.link).call.apply(o,B([this],r,!1))]}})})},e.prototype.trackLink=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return w(this,void 0,void 0,function(){var i,o;return O(this,function(a){switch(a.label){case 0:return[4,oe(()=>import("./auto-track.BmJL9KRM.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)];case 1:return i=a.sent(),[2,(o=i.link).call.apply(o,B([this],r,!1))]}})})},e.prototype.trackSubmit=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return w(this,void 0,void 0,function(){var i,o;return O(this,function(a){switch(a.label){case 0:return[4,oe(()=>import("./auto-track.BmJL9KRM.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)];case 1:return i=a.sent(),[2,(o=i.form).call.apply(o,B([this],r,!1))]}})})},e.prototype.trackForm=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return w(this,void 0,void 0,function(){var i,o;return O(this,function(a){switch(a.label){case 0:return[4,oe(()=>import("./auto-track.BmJL9KRM.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)];case 1:return i=a.sent(),[2,(o=i.form).call.apply(o,B([this],r,!1))]}})})},e.prototype.register=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return w(this,void 0,void 0,function(){var i,o,a=this;return O(this,function(s){switch(s.label){case 0:return i=he.system(),o=r.map(function(u){return a.queue.register(i,u,a)}),[4,Promise.all(o)];case 1:return s.sent(),[2,i]}})})},e.prototype.deregister=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return w(this,void 0,void 0,function(){var i,o,a=this;return O(this,function(s){switch(s.label){case 0:return i=he.system(),o=r.map(function(u){var c=a.queue.plugins.find(function(l){return l.name===u});if(c)return a.queue.deregister(i,c,a);i.log("warn","plugin ".concat(u," not found"))}),[4,Promise.all(o)];case 1:return s.sent(),[2,i]}})})},e.prototype.debug=function(r){return r===!1&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=r,this},e.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},e.prototype.timeout=function(r){this.settings.timeout=r},e.prototype._dispatch=function(r,n){return w(this,void 0,void 0,function(){var i;return O(this,function(o){return i=new he(r),Et()&&!this.options.retryQueue?[2,i]:[2,nu(i,this.queue,this,{callback:n,debug:this._debug,timeout:this.settings.timeout})]})})},e.prototype.addSourceMiddleware=function(r){return w(this,void 0,void 0,function(){var n=this;return O(this,function(i){switch(i.label){case 0:return[4,this.queue.criticalTasks.run(function(){return w(n,void 0,void 0,function(){var o,a,s;return O(this,function(u){switch(u.label){case 0:return[4,oe(()=>Promise.resolve().then(()=>Vc),void 0,import.meta.url)];case 1:return o=u.sent().sourceMiddlewarePlugin,a={},this.queue.plugins.forEach(function(c){if(c.type==="destination")return a[c.name]=!0}),s=o(r,a),[4,this.register(s)];case 2:return u.sent(),[2]}})})})];case 1:return i.sent(),[2,this]}})})},e.prototype.addDestinationMiddleware=function(r){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return this.queue.plugins.filter(ko).forEach(function(o){(r==="*"||o.name.toLowerCase()===r.toLowerCase())&&o.addMiddleware.apply(o,n)}),Promise.resolve(this)},e.prototype.setAnonymousId=function(r){return this._user.anonymousId(r)},e.prototype.queryString=function(r){return w(this,void 0,void 0,function(){var n;return O(this,function(i){switch(i.label){case 0:return this.options.useQueryString===!1?[2,[]]:[4,oe(()=>import("./index.Dj44-MeU.js"),__vite__mapDeps([4,1,2,3]),import.meta.url)];case 1:return n=i.sent().queryString,[2,n(this,r)]}})})},e.prototype.use=function(r){return r(this),this},e.prototype.ready=function(r){return r===void 0&&(r=function(n){return n}),w(this,void 0,void 0,function(){return O(this,function(n){return[2,Promise.all(this.queue.plugins.map(function(i){return i.ready?i.ready():Promise.resolve()})).then(function(i){return r(i),i})]})})},e.prototype.noConflict=function(){return console.warn(Oe),Tu(Ir??this),this},e.prototype.normalize=function(r){return console.warn(Oe),this.eventFactory.normalize(r)},Object.defineProperty(e.prototype,"failedInitializations",{get:function(){return console.warn(Oe),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"VERSION",{get:function(){return or},enumerable:!1,configurable:!0}),e.prototype.initialize=function(r,n){return w(this,void 0,void 0,function(){return O(this,function(i){return console.warn(Oe),[2,Promise.resolve(this)]})})},e.prototype.pageview=function(r){return w(this,void 0,void 0,function(){return O(this,function(n){switch(n.label){case 0:return console.warn(Oe),[4,this.page({path:r})];case 1:return n.sent(),[2,this]}})})},Object.defineProperty(e.prototype,"plugins",{get:function(){var r;return console.warn(Oe),(r=this._plugins)!==null&&r!==void 0?r:{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Integrations",{get:function(){console.warn(Oe);var r=this.queue.plugins.filter(function(n){return n.type==="destination"}).reduce(function(n,i){var o="".concat(i.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),a=window[o];if(!a)return n;var s=a.Integration;return s?(n[i.name]=s,n):(n[i.name]=a,n)},{});return r},enumerable:!1,configurable:!0}),e.prototype.push=function(r){var n=this,i=r.shift();i&&!n[i]||n[i].apply(this,r)},e}(bn),ui=function(t){Q(e,t);function e(){var r=t.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return r.initialized=!0,r}return e}(Hn),ci={};function Wo(){return typeof process>"u"||!ci?{}:ci}var Pc=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,Cc=function(){var t,e=Array.prototype.slice.call(document.querySelectorAll("script"));return e.forEach(function(r){var n,i=(n=r.getAttribute("src"))!==null&&n!==void 0?n:"",o=Pc.exec(i);o&&o[1]&&(t=o[1])}),t},Wt,Mc=function(){var t,e=Wt??((t=Nn())===null||t===void 0?void 0:t._cdn);return e},Lc=function(t){var e=Nn();e&&(e._cdn=t),Wt=t},zn=function(){var t=Mc();if(t)return t;var e=Cc();return e||"https://cdn.segment.com"},Vg=function(){var t=zn();return"".concat(t,"/next-integrations")};function $c(t,e){var r,n=Object.entries((r=e.integrations)!==null&&r!==void 0?r:{}).reduce(function(i,o){var a,s,u=o[0],c=o[1];return typeof c=="object"?g(g({},i),(a={},a[u]=c,a)):g(g({},i),(s={},s[u]={},s))},{});return Object.entries(t.integrations).reduce(function(i,o){var a,s=o[0],u=o[1];return g(g({},i),(a={},a[s]=g(g({},u),n[s]),a))},{})}function jc(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch{return t}}function Fc(t){return w(this,void 0,void 0,function(){var e;return O(this,function(r){return e=navigator.userAgentData,e?t?[2,e.getHighEntropyValues(t).catch(function(){return e.toJSON()})]:[2,e.toJSON()]:[2,void 0]})})}var ht;function Uc(){if(ht)return ht;var t=No(window.location.href);return ht={expires:31536e6,secure:!1,path:"/"},t&&(ht.domain=t),ht}function Bc(t){var e={btid:"dataxu",urid:"millennial-media"};t.startsWith("?")&&(t=t.substring(1)),t=t.replace(/\?/g,"&");for(var r=t.split("&"),n=0,i=r;n<i.length;n++){var o=i[n],a=o.split("="),s=a[0],u=a[1];if(e[s])return{id:u,type:e[s]}}}function Gc(t){return t.startsWith("?")&&(t=t.substring(1)),t=t.replace(/\?/g,"&"),t.split("&").reduce(function(e,r){var n=r.split("="),i=n[0],o=n[1],a=o===void 0?"":o;if(i.includes("utm_")&&i.length>4){var s=i.slice(4);s==="campaign"&&(s="name"),e[s]=jc(a)}return e},{})}function Yc(){var t=be.get("_ga");if(t&&t.startsWith("amp"))return t}function qc(t,e,r){var n,i=new Ie(r?[]:[new Do(Uc())]),o=i.get("s:context.referrer"),a=(n=Bc(t))!==null&&n!==void 0?n:o;a&&(e&&(e.referrer=g(g({},e.referrer),a)),i.set("s:context.referrer",a))}var Hc=function(t){try{var e=new URLSearchParams;return Object.entries(t).forEach(function(r){var n=r[0],i=r[1];Array.isArray(i)?i.forEach(function(o){return e.append(n,o)}):e.append(n,i)}),e.toString()}catch{return""}},zc=function(){function t(){var e=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(r,n){return w(e,void 0,void 0,function(){var i;return O(this,function(o){switch(o.label){case 0:this.instance=n,o.label=1;case 1:return o.trys.push([1,3,,4]),i=this,[4,Fc(this.instance.options.highEntropyValuesClientHints)];case 2:return i.userAgentData=o.sent(),[3,4];case 3:return o.sent(),[3,4];case 4:return[2,Promise.resolve()]}})})},this.enrich=function(r){var n,i,o=r.event.context,a=o.page.search||"",s=typeof a=="object"?Hc(a):a;o.userAgent=navigator.userAgent,o.userAgentData=e.userAgentData;var u=navigator.userLanguage||navigator.language;typeof o.locale>"u"&&typeof u<"u"&&(o.locale=u),(n=o.library)!==null&&n!==void 0||(o.library={name:"analytics.js",version:"".concat("npm:next","-").concat(or)}),s&&!o.campaign&&(o.campaign=Gc(s));var c=Yc();c&&(o.amp={id:c}),qc(s,o,(i=e.instance.options.disableClientPersistence)!==null&&i!==void 0?i:!1);try{o.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return r},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich}return t}(),Kc=new zc;function Vo(t){var e=Array.prototype.slice.call(window.document.querySelectorAll("script"));return e.find(function(r){return r.src===t})}function kr(t,e){var r=Vo(t);if(r!==void 0){var n=r?.getAttribute("status");if(n==="loaded")return Promise.resolve(r);if(n==="loading")return new Promise(function(i,o){r.addEventListener("load",function(){return i(r)}),r.addEventListener("error",function(a){return o(a)})})}return new Promise(function(i,o){var a,s=window.document.createElement("script");s.type="text/javascript",s.src=t,s.async=!0,s.setAttribute("status","loading");for(var u=0,c=Object.entries({});u<c.length;u++){var l=c[u],f=l[0],p=l[1];s.setAttribute(f,p)}s.onload=function(){s.onerror=s.onload=null,s.setAttribute("status","loaded"),i(s)},s.onerror=function(){s.onerror=s.onload=null,s.setAttribute("status","error"),o(new Error("Failed to load ".concat(t)))};var d=window.document.querySelector("script");d?(a=d.parentElement)===null||a===void 0||a.insertBefore(s,d):window.document.head.appendChild(s)})}function Jg(t){var e=Vo(t);return e!==void 0&&e.remove(),Promise.resolve()}function Jo(t,e,r){return w(this,void 0,void 0,function(){function n(c,l){return w(this,void 0,void 0,function(){var f,p,d;return O(this,function(h){switch(h.label){case 0:return f=!1,p=null,[4,l({payload:Jt(c,{clone:!0,traverse:!1}),integration:t,next:function(y){f=!0,y===null&&(p=null),y&&(p=y.obj)}})];case 1:return h.sent(),!f&&p!==null&&(p=p,p.integrations=g(g({},c.integrations),(d={},d[t]=!1,d))),[2,p]}})})}var i,o,a,s,u;return O(this,function(c){switch(c.label){case 0:i=Jt(e,{clone:!0,traverse:!1}).rawEvent(),o=0,a=r,c.label=1;case 1:return o<a.length?(s=a[o],[4,n(i,s)]):[3,4];case 2:if(u=c.sent(),u===null)return[2,null];i=u,c.label=3;case 3:return o++,[3,1];case 4:return[2,i]}})})}function Wc(t,e){function r(n){return w(this,void 0,void 0,function(){var i;return O(this,function(o){switch(o.label){case 0:return i=!1,[4,t({payload:Jt(n.event,{clone:!0,traverse:!1}),integrations:e??{},next:function(a){i=!0,a&&(n.event=a.obj)}})];case 1:if(o.sent(),!i)throw new Fe({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,n]}})})}return{name:"Source Middleware ".concat(t.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(n){return Promise.resolve(n)},track:r,page:r,identify:r,alias:r,group:r}}const Vc=Object.freeze(Object.defineProperty({__proto__:null,applyDestinationMiddleware:Jo,sourceMiddlewarePlugin:Wc},Symbol.toStringTag,{value:"Module"}));function Ct(t,e){var r=e.methodName,n=e.integrationName,i=e.type,o=e.didError,a=o===void 0?!1:o;t.stats.increment("analytics_js.integration.invoke".concat(a?".error":""),1,["method:".concat(r),"integration_name:".concat(n),"type:".concat(i)])}var Jc=function(){function t(e,r){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=vo(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=r,this.name=e,this.type=r.type,this.alternativeNames.push(r.name)}return t.prototype.addMiddleware=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];this.type==="destination"&&(e=this.middleware).push.apply(e,r)},t.prototype.transform=function(e){return w(this,void 0,void 0,function(){var r;return O(this,function(n){switch(n.label){case 0:return[4,Jo(this.name,e.event,this.middleware)];case 1:return r=n.sent(),r===null&&e.cancel(new Fe({retry:!1,reason:"dropped by destination middleware"})),[2,new he(r)]}})})},t.prototype._createMethod=function(e){var r=this;return function(n){return w(r,void 0,void 0,function(){var i,o;return O(this,function(a){switch(a.label){case 0:return this.action[e]?(i=n,this.type!=="destination"?[3,2]:[4,this.transform(n)]):[2,n];case 1:i=a.sent(),a.label=2;case 2:return a.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!a.sent())throw new Error("Something prevented the destination from getting ready");return Ct(n,{integrationName:this.action.name,methodName:e,type:"action"}),[4,this.action[e](i)];case 4:return a.sent(),[3,6];case 5:throw o=a.sent(),Ct(n,{integrationName:this.action.name,methodName:e,type:"action",didError:!0}),o;case 6:return[2,n]}})})}},t.prototype.isLoaded=function(){return this.action.isLoaded()},t.prototype.ready=function(){return w(this,void 0,void 0,function(){return O(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return e.sent(),[2,!0];case 2:return e.sent(),[2,!1];case 3:return[2]}})})},t.prototype.load=function(e,r){return w(this,void 0,void 0,function(){var n,i,o,a;return O(this,function(s){switch(s.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];s.label=1;case 1:return s.trys.push([1,3,,4]),Ct(e,{integrationName:this.action.name,methodName:"load",type:"action"}),n=this.action.load(e,r),o=(i=this.loadPromise).resolve,[4,n];case 2:return o.apply(i,[s.sent()]),[2,n];case 3:throw a=s.sent(),Ct(e,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(a),a;case 4:return[2]}})})},t.prototype.unload=function(e,r){var n,i;return(i=(n=this.action).unload)===null||i===void 0?void 0:i.call(n,e,r)},t}();function Xc(t){if(!Array.isArray(t))throw new Error("Not a valid list of plugins");var e=["load","isLoaded","name","version","type"];return t.forEach(function(r){e.forEach(function(n){var i;if(r[n]===void 0)throw new Error("Plugin: ".concat((i=r.name)!==null&&i!==void 0?i:"unknown"," missing required function ").concat(n))})}),!0}function Qc(t,e){var r=t[e.creationName],n=t[e.name];return t.All===!1&&!r&&!n||r===!1||n===!1}function Zc(t,e){return w(this,void 0,void 0,function(){var r,n,i,o,a,s;return O(this,function(u){switch(u.label){case 0:if(u.trys.push([0,9,,10]),r=new RegExp("https://cdn.segment.(com|build)"),n=zn(),!e)return[3,6];i=t.url.split("/"),o=i[i.length-2],a=t.url.replace(o,btoa(o).replace(/=/g,"")),u.label=1;case 1:return u.trys.push([1,3,,5]),[4,kr(a.replace(r,n))];case 2:return u.sent(),[3,5];case 3:return u.sent(),[4,kr(t.url.replace(r,n))];case 4:return u.sent(),[3,5];case 5:return[3,8];case 6:return[4,kr(t.url.replace(r,n))];case 7:u.sent(),u.label=8;case 8:return typeof window[t.libraryName]=="function"?[2,window[t.libraryName]]:[3,10];case 9:throw s=u.sent(),console.error("Failed to create PluginFactory",t),s;case 10:return[2]}})})}function el(t,e,r,n,i,o){var a,s,u;return w(this,void 0,void 0,function(){var c,l,f,p=this;return O(this,function(d){switch(d.label){case 0:return c=[],l=(s=(a=t.middlewareSettings)===null||a===void 0?void 0:a.routingRules)!==null&&s!==void 0?s:[],f=((u=t.remotePlugins)!==null&&u!==void 0?u:[]).map(function(h){return w(p,void 0,void 0,function(){var y,S,b,E,T,A;return O(this,function(N){switch(N.label){case 0:if(Qc(e,h))return[2];N.label=1;case 1:return N.trys.push([1,6,,7]),S=o?.find(function(R){var F=R.pluginName;return F===h.name}),S?[3,3]:[4,Zc(h,n?.obfuscate)];case 2:S=N.sent(),N.label=3;case 3:return y=S,y?[4,y(g(g({},h.settings),r[h.name]))]:[3,5];case 4:b=N.sent(),E=Array.isArray(b)?b:[b],Xc(E),T=l.filter(function(R){return R.destinationName===h.creationName}),E.forEach(function(R){var F=new Jc(h.creationName,R);T.length&&i&&F.addMiddleware(i),c.push(F)}),N.label=5;case 5:return[3,7];case 6:return A=N.sent(),console.warn("Failed to load Remote Plugin",A),[3,7];case 7:return[2]}})})}),[4,Promise.all(f)];case 1:return d.sent(),[2,c.filter(Boolean)]}})})}var xr,li,tl=On(),fi=(xr=(li=tl).__SEGMENT_INSPECTOR__)!==null&&xr!==void 0?xr:li.__SEGMENT_INSPECTOR__={},rl=function(t){var e;return(e=fi.attach)===null||e===void 0?void 0:e.call(fi,t)};function nl(t,e){return ir("".concat(e,"/v1/projects/").concat(t,"/settings")).then(function(r){return r.ok?r.json():r.text().then(function(n){throw new Error(n)})}).catch(function(r){throw console.error(r.message),r})}function il(t){return Wo().NODE_ENV!=="test"&&Object.keys(t.integrations).length>1}function ol(t){var e,r,n;return Wo().NODE_ENV!=="test"&&((n=(r=(e=t.middlewareSettings)===null||e===void 0?void 0:e.routingRules)===null||r===void 0?void 0:r.length)!==null&&n!==void 0?n:0)>0}function al(t,e){Nu(t,e),Au(t,e)}function sl(t,e){return w(this,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:return[4,ku(t,e)];case 1:return r.sent(),Du(t,e),[2]}})})}function ul(t,e,r,n,i,o,a){var s,u,c;return i===void 0&&(i=[]),w(this,void 0,void 0,function(){var l,f,p,d,h,y,S,b,E,T,A,N,R,F,Y,H=this;return O(this,function(j){switch(j.label){case 0:return al(r,a),l=i?.filter(function(P){return typeof P=="object"}),f=i?.filter(function(P){return typeof P=="function"&&typeof P.pluginName=="string"}),ol(e)?[4,oe(()=>import("./index.Dz_9kwFi.js"),__vite__mapDeps([]),import.meta.url).then(function(P){return P.tsubMiddleware(e.middlewareSettings.routingRules)})]:[3,2];case 1:return d=j.sent(),[3,3];case 2:d=void 0,j.label=3;case 3:return p=d,il(e)||o.length>0?[4,oe(()=>import("./index.DsBvhdsA.js"),__vite__mapDeps([5,1,2,6,3]),import.meta.url).then(function(P){return P.ajsDestinations(t,e,r.integrations,n,p,o)})]:[3,5];case 4:return y=j.sent(),[3,6];case 5:y=[],j.label=6;case 6:return h=y,e.legacyVideoPluginsEnabled?[4,oe(()=>import("./index.DZFC188T.js"),__vite__mapDeps([7,3,1,2]),import.meta.url).then(function(P){return P.loadLegacyVideoPlugins(r)})]:[3,8];case 7:j.sent(),j.label=8;case 8:return!((s=n.plan)===null||s===void 0)&&s.track?[4,oe(()=>import("./index.CoVT2lSp.js"),__vite__mapDeps([8,1,2,6]),import.meta.url).then(function(P){var ye;return P.schemaFilter((ye=n.plan)===null||ye===void 0?void 0:ye.track,e)})]:[3,10];case 9:return b=j.sent(),[3,11];case 10:b=void 0,j.label=11;case 11:return S=b,E=$c(e,n),[4,el(e,r.integrations,E,n,p,f).catch(function(){return[]})];case 12:return T=j.sent(),A=B(B([Kc],h,!0),T,!0),S&&A.push(S),N=((u=n.integrations)===null||u===void 0?void 0:u.All)===!1&&!n.integrations["Segment.io"]||n.integrations&&n.integrations["Segment.io"]===!1,N?[3,14]:(F=(R=A).push,[4,Ko(r,E["Segment.io"],e.integrations)]);case 13:F.apply(R,[j.sent()]),j.label=14;case 14:return[4,r.register.apply(r,B(B([],A,!1),l,!1))];case 15:return Y=j.sent(),[4,xu(r,a)];case 16:return j.sent(),Object.entries((c=e.enabledMiddleware)!==null&&c!==void 0?c:{}).some(function(P){var ye=P[1];return ye})?[4,oe(()=>import("./index.C4tgz14D.js"),__vite__mapDeps([9,1,2,3]),import.meta.url).then(function(P){var ye=P.remoteMiddlewares;return w(H,void 0,void 0,function(){var ft,Dt;return O(this,function(ze){switch(ze.label){case 0:return[4,ye(Y,e,n.obfuscate)];case 1:return ft=ze.sent(),Dt=ft.map(function(dt){return r.addSourceMiddleware(dt)}),[2,Promise.all(Dt)]}})})})]:[3,18];case 17:j.sent(),j.label=18;case 18:return[2,Y]}})})}function cl(t,e,r){var n,i,o,a,s,u,c,l,f,p,d;return e===void 0&&(e={}),w(this,void 0,void 0,function(){var h,y,S,b,E,T,A,N,R,F,Y,H,j;return O(this,function(P){switch(P.label){case 0:return e.disable===!0?[2,[new ui,he.system()]]:(e.globalAnalyticsKey&&Ou(e.globalAnalyticsKey),t.cdnURL&&Lc(t.cdnURL),e.initialPageview&&r.add(new qr("page",[])),h=(n=t.cdnURL)!==null&&n!==void 0?n:zn(),(i=t.cdnSettings)!==null&&i!==void 0?(S=i,[3,3]):[3,1]);case 1:return[4,nl(t.writeKey,h)];case 2:S=P.sent(),P.label=3;case 3:return y=S,e.updateCDNSettings&&(y=e.updateCDNSettings(y)),typeof e.disable!="function"?[3,5]:[4,e.disable(y)];case 4:if(b=P.sent(),b)return[2,[new ui,he.system()]];P.label=5;case 5:return E=(a=(o=y.integrations["Segment.io"])===null||o===void 0?void 0:o.retryQueue)!==null&&a!==void 0?a:!0,e=g({retryQueue:E},e),T=new Hn(g(g({},t),{cdnSettings:y,cdnURL:h}),e),rl(T),A=(s=t.plugins)!==null&&s!==void 0?s:[],N=(u=t.classicIntegrations)!==null&&u!==void 0?u:[],R=(c=e.integrations)===null||c===void 0?void 0:c["Segment.io"],Eo.initRemoteMetrics(g(g({},y.metrics),{host:(l=R?.apiHost)!==null&&l!==void 0?l:(f=y.metrics)===null||f===void 0?void 0:f.host,protocol:R?.protocol})),[4,ul(t.writeKey,y,T,e,A,N,r)];case 6:return F=P.sent(),Y=(p=window.location.search)!==null&&p!==void 0?p:"",H=(d=window.location.hash)!==null&&d!==void 0?d:"",j=Y.length?Y:H.replace(/(?=#).*(?=\?)/,""),j.includes("ajs_")?[4,T.queryString(j).catch(console.error)]:[3,8];case 7:P.sent(),P.label=8;case 8:return T.initialized=!0,T.emit("initialize",t,e),[4,sl(T,r)];case 9:return P.sent(),[2,[T,F]]}})})}var ll=function(t){Q(e,t);function e(){var r=this,n=vo(),i=n.promise,o=n.resolve;return r=t.call(this,function(a){return i.then(function(s){var u=s[0],c=s[1];return cl(u,c,a)})})||this,r._resolveLoadStart=function(a,s){return o([a,s])},r}return e.prototype.load=function(r,n){return n===void 0&&(n={}),this._resolveLoadStart(r,n),this},e.load=function(r,n){return n===void 0&&(n={}),new e().load(r,n)},e.standalone=function(r,n){return e.load({writeKey:r},n).then(function(i){return i[0]})},e}(Pu),fl=function(){function t(){}return t.load=function(){return Promise.reject(new Error("AnalyticsNode is not available in browsers."))},t}();const dl=Object.freeze(Object.defineProperty({__proto__:null,Analytics:Hn,AnalyticsBrowser:ll,AnalyticsNode:fl,Context:he,ContextCancelation:Fe,EventFactory:Io,Group:Co,UniversalStorage:Ie,User:xn,getGlobalAnalytics:Nn,isDestinationPluginWithAddMiddleware:ko,resolveAliasArguments:mo,resolveArguments:yo,resolvePageArguments:Ur,resolveUserArguments:Br,segmentio:Ko},Symbol.toStringTag,{value:"Module"}));/*!
* cookie
* Copyright(c) 2012-2014 Roman Shtylman
* Copyright(c) 2015 Douglas Christopher Wilson
* MIT Licensed
*/var Xo=vl,di=gl,pl=decodeURIComponent,hl=encodeURIComponent,Mt=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function vl(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");for(var r={},n=e||{},i=t.split(";"),o=n.decode||pl,a=0;a<i.length;a++){var s=i[a],u=s.indexOf("=");if(!(u<0)){var c=s.substring(0,u).trim();if(r[c]==null){var l=s.substring(u+1,s.length).trim();l[0]==='"'&&(l=l.slice(1,-1)),r[c]=_l(l,o)}}}return r}function gl(t,e,r){var n=r||{},i=n.encode||hl;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!Mt.test(t))throw new TypeError("argument name is invalid");var o=i(e);if(o&&!Mt.test(o))throw new TypeError("argument val is invalid");var a=t+"="+o;if(n.maxAge!=null){var s=n.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(s)}if(n.domain){if(!Mt.test(n.domain))throw new TypeError("option domain is invalid");a+="; Domain="+n.domain}if(n.path){if(!Mt.test(n.path))throw new TypeError("option path is invalid");a+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite){var u=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(u){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function _l(t,e){try{return e(t)}catch{return t}}function yl(){return typeof document=="object"&&typeof document.cookie=="string"}function ml(t,e){return typeof t=="string"?Xo(t,e):typeof t=="object"&&t!==null?t:{}}function bl(t,e){return typeof e>"u"&&(e=!t||t[0]!=="{"&&t[0]!=="["&&t[0]!=='"'),!e}function pi(t,e){e===void 0&&(e={});var r=El(t);if(bl(r,e.doNotParse))try{return JSON.parse(r)}catch{}return t}function El(t){return t&&t[0]==="j"&&t[1]===":"?t.substr(2):t}var Re=function(){return Re=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Re.apply(this,arguments)},Sl=function(){function t(e,r){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=ml(e,r),new Promise(function(){n.HAS_DOCUMENT_COOKIE=yl()}).catch(function(){})}return t.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=Xo(document.cookie,e))},t.prototype._emitChange=function(e){for(var r=0;r<this.changeListeners.length;++r)this.changeListeners[r](e)},t.prototype.get=function(e,r,n){return r===void 0&&(r={}),this._updateBrowserValues(n),pi(this.cookies[e],r)},t.prototype.getAll=function(e,r){e===void 0&&(e={}),this._updateBrowserValues(r);var n={};for(var i in this.cookies)n[i]=pi(this.cookies[i],e);return n},t.prototype.set=function(e,r,n){var i;typeof r=="object"&&(r=JSON.stringify(r)),this.cookies=Re(Re({},this.cookies),(i={},i[e]=r,i)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=di(e,r,n)),this._emitChange({name:e,value:r,options:n})},t.prototype.remove=function(e,r){var n=r=Re(Re({},r),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Re({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=di(e,"",n)),this._emitChange({name:e,value:void 0,options:r})},t.prototype.addChangeListener=function(e){this.changeListeners.push(e)},t.prototype.removeChangeListener=function(e){var r=this.changeListeners.indexOf(e);r>=0&&this.changeListeners.splice(r,1)},t}();const wl=Object.freeze(Object.defineProperty({__proto__:null,default:Sl},Symbol.toStringTag,{value:"Module"}));var Qo={exports:{}},Wr=as("wks"),Ol=ss,Vr=ro.Symbol,hi=typeof Vr=="function",Tl=Qo.exports=function(t){return Wr[t]||(Wr[t]=hi&&Vr[t]||(hi?Vr:Ol)("Symbol."+t))};Tl.store=Wr;var vr=Qo.exports,Zo={exports:{}},ea={exports:{}},ta={exports:{}};(function(t){function e(r,n){(n==null||n>r.length)&&(n=r.length);for(var i=0,o=Array(n);i<n;i++)o[i]=r[i];return o}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(ta);var ra=ta.exports;(function(t){var e=ra;function r(n){if(Array.isArray(n))return e(n)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(ea);var Il=ea.exports,na={exports:{}};(function(t){function e(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(na);var kl=na.exports,ia={exports:{}};(function(t){var e=ra;function r(n,i){if(n){if(typeof n=="string")return e(n,i);var o={}.toString.call(n).slice(8,-1);return o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set"?Array.from(n):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(n,i):void 0}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(ia);var xl=ia.exports,oa={exports:{}};(function(t){function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(oa);var Al=oa.exports;(function(t){var e=Il,r=kl,n=xl,i=Al;function o(a){return e(a)||r(a)||n(a)||i()}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports})(Zo);var Nl=Zo.exports,Dl=us,Rl=function(){try{var t=Dl(Object,"defineProperty");return t({},"",{}),t}catch{}}(),aa=Rl,vi=aa;function Pl(t,e,r){e=="__proto__"&&vi?vi(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Kn=Pl,Cl=Kn,Ml=pn,Ll=Object.prototype,$l=Ll.hasOwnProperty;function jl(t,e,r){var n=t[e];(!($l.call(t,e)&&Ml(n,r))||r===void 0&&!(e in t))&&Cl(t,e,r)}var Fl=jl,Ul=Fl,Bl=Kn;function Gl(t,e,r,n){var i=!r;r||(r={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=n?n(r[s],t[s],s,r,t):void 0;u===void 0&&(u=t[s]),i?Bl(r,s,u):Ul(r,s,u)}return r}var Yl=Gl;function ql(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Hl=ql,zl=Ot,Kl=no,Wl=Hl,Vl=Object.prototype,Jl=Vl.hasOwnProperty;function Xl(t){if(!zl(t))return Wl(t);var e=Kl(t),r=[];for(var n in t)n=="constructor"&&(e||!Jl.call(t,n))||r.push(n);return r}var Ql=Xl,Zl=cs,ef=Ql,tf=hn;function rf(t){return tf(t)?Zl(t,!0):ef(t)}var sa=rf,Xt={exports:{}};Xt.exports;(function(t,e){var r=ls,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,a=o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;function u(c,l){if(l)return c.slice();var f=c.length,p=s?s(f):new c.constructor(f);return c.copy(p),p}t.exports=u})(Xt,Xt.exports);var nf=Xt.exports;function of(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var af=of,sf=fs,uf=sf(Object.getPrototypeOf,Object),ua=uf,gi=ds;function cf(t){var e=new t.constructor(t.byteLength);return new gi(e).set(new gi(t)),e}var lf=cf,ff=lf;function df(t,e){var r=e?ff(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var pf=df,hf=Ot,_i=Object.create,vf=function(){function t(){}return function(e){if(!hf(e))return{};if(_i)return _i(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),gf=vf,_f=gf,yf=ua,mf=no;function bf(t){return typeof t.constructor=="function"&&!mf(t)?_f(yf(t)):{}}var Ef=bf,Sf=ps,wf=ua,Of=io,Tf="[object Object]",If=Function.prototype,kf=Object.prototype,ca=If.toString,xf=kf.hasOwnProperty,Af=ca.call(Object);function Nf(t){if(!Of(t)||Sf(t)!=Tf)return!1;var e=wf(t);if(e===null)return!0;var r=xf.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&ca.call(r)==Af}var la=Nf;function Df(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Rf=Df,Pf=Rf,yi=Math.max;function Cf(t,e,r){return e=yi(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=yi(n.length-e,0),a=Array(o);++i<o;)a[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(a),Pf(t,this,s)}}var Mf=Cf;function Lf(t){return function(){return t}}var $f=Lf,jf=$f,mi=aa,Ff=oo,Uf=mi?function(t,e){return mi(t,"toString",{configurable:!0,enumerable:!1,value:jf(e),writable:!0})}:Ff,Bf=Uf,Gf=800,Yf=16,qf=Date.now;function Hf(t){var e=0,r=0;return function(){var n=qf(),i=Yf-(n-r);if(r=n,i>0){if(++e>=Gf)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var zf=Hf,Kf=Bf,Wf=zf,Vf=Wf(Kf),Jf=Vf,bi=ro.document,Xf=bi&&bi.documentElement,Qf=Kn,Zf=pn;function ed(t,e,r){(r!==void 0&&!Zf(t[e],r)||r===void 0&&!(e in t))&&Qf(t,e,r)}var fa=ed,td=hn,rd=io;function nd(t){return rd(t)&&td(t)}var id=nd;function od(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var da=od,ad=Yl,sd=sa;function ud(t){return ad(t,sd(t))}var cd=ud,Ei=fa,ld=nf,fd=pf,dd=af,pd=Ef,Si=hs,wi=vs,hd=id,vd=gs,gd=_s,_d=Ot,yd=la,md=ys,Oi=da,bd=cd;function Ed(t,e,r,n,i,o,a){var s=Oi(t,r),u=Oi(e,r),c=a.get(u);if(c){Ei(t,r,c);return}var l=o?o(s,u,r+"",t,e,a):void 0,f=l===void 0;if(f){var p=wi(u),d=!p&&vd(u),h=!p&&!d&&md(u);l=u,p||d||h?wi(s)?l=s:hd(s)?l=dd(s):d?(f=!1,l=ld(u,!0)):h?(f=!1,l=fd(u,!0)):l=[]:yd(u)||Si(u)?(l=s,Si(s)?l=bd(s):(!_d(s)||gd(s))&&(l=pd(u))):f=!1}f&&(a.set(u,l),i(l,u,n,o,a),a.delete(u)),Ei(t,r,l)}var Sd=Ed,wd=ms,Od=fa,Td=bs,Id=Sd,kd=Ot,xd=sa,Ad=da;function pa(t,e,r,n,i){t!==e&&Td(e,function(o,a){if(i||(i=new wd),kd(o))Id(t,e,a,r,pa,n,i);else{var s=n?n(Ad(t,a),o,a+"",t,e,i):void 0;s===void 0&&(s=o),Od(t,a,s)}},xd)}var Nd=pa,Dd=oo,Rd=Mf,Pd=Jf;function Cd(t,e){return Pd(Rd(t,e,Dd),t+"")}var Md=Cd,Ld=pn,$d=hn,jd=Es,Fd=Ot;function Ud(t,e,r){if(!Fd(r))return!1;var n=typeof e;return(n=="number"?$d(r)&&jd(e,r.length):n=="string"&&e in r)?Ld(r[e],t):!1}var Bd=Ud,Gd=Md,Yd=Bd;function qd(t){return Gd(function(e,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,a&&Yd(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++n<i;){var s=r[n];s&&t(e,s,n,o)}return e})}var Hd=qd,zd=Nd,Kd=Hd,Wd=Kd(function(t,e,r){zd(t,e,r)}),Vd=Wd,Jd=Ss,Xd=vn,Qd=vr("match"),Zd=function(t){var e;return Jd(t)&&((e=t[Qd])!==void 0?!!e:Xd(t)=="RegExp")},Ti=nr,ep=ws,tp=vr("species"),rp=function(t,e){var r=Ti(t).constructor,n;return r===void 0||(n=Ti(r)[tp])==null?e:ep(n)},np=ao,ip=so,op=function(t){return function(e,r){var n=String(ip(e)),i=np(r),o=n.length,a,s;return i<0||i>=o?t?"":void 0:(a=n.charCodeAt(i),a<55296||a>56319||i+1===o||(s=n.charCodeAt(i+1))<56320||s>57343?t?n.charAt(i):a:t?n.slice(i,i+2):(a-55296<<10)+(s-56320)+65536)}},ap=op(!0),ha=function(t,e,r){return e+(r?ap(t,e).length:1)},Jr=vn,sp=vr("toStringTag"),up=Jr(function(){return arguments}())=="Arguments",cp=function(t,e){try{return t[e]}catch{}},lp=function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=cp(e=Object(t),sp))=="string"?r:up?Jr(e):(n=Jr(e))=="Object"&&typeof e.callee=="function"?"Arguments":n},fp=lp,dp=RegExp.prototype.exec,va=function(t,e){var r=t.exec;if(typeof r=="function"){var n=r.call(t,e);if(typeof n!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if(fp(t)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return dp.call(t,e)},pp=nr,hp=function(){var t=pp(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},vp=hp,Qt=RegExp.prototype.exec,gp=String.prototype.replace,ga=Qt,Zt="lastIndex",Xr=function(){var t=/a/,e=/b*/g;return Qt.call(t,"a"),Qt.call(e,"a"),t[Zt]!==0||e[Zt]!==0}(),Qr=/()??/.exec("")[1]!==void 0,_p=Xr||Qr;_p&&(ga=function(e){var r=this,n,i,o,a;return Qr&&(i=new RegExp("^"+r.source+"$(?!\\s)",vp.call(r))),Xr&&(n=r[Zt]),o=Qt.call(r,e),Xr&&o&&(r[Zt]=r.global?o.index+o[0].length:n),Qr&&o&&o.length>1&&gp.call(o[0],i,function(){for(a=1;a<arguments.length-2;a++)arguments[a]===void 0&&(o[a]=void 0)}),o});var Wn=ga,Ii=Wn;uo({target:"RegExp",proto:!0,forced:Ii!==/./.exec},{exec:Ii});var yp=Os,mp=Ts,Zr=gn,bp=so,_a=vr,Ep=Wn,Sp=_a("species"),wp=!Zr(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"}),Op=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return r.length===2&&r[0]==="a"&&r[1]==="b"}(),ya=function(t,e,r){var n=_a(t),i=!Zr(function(){var l={};return l[n]=function(){return 7},""[t](l)!=7}),o=i?!Zr(function(){var l=!1,f=/a/;return f.exec=function(){return l=!0,null},t==="split"&&(f.constructor={},f.constructor[Sp]=function(){return f}),f[n](""),!l}):void 0;if(!i||!o||t==="replace"&&!wp||t==="split"&&!Op){var a=/./[n],s=r(bp,n,""[t],function(f,p,d,h,y){return p.exec===Ep?i&&!y?{done:!0,value:a.call(p,d,h)}:{done:!0,value:f.call(d,p,h)}:{done:!1}}),u=s[0],c=s[1];yp(String.prototype,t,u),mp(RegExp.prototype,n,e==2?function(l,f){return c.call(l,this,f)}:function(l){return c.call(l,this)})}},Tp=Zd,Ip=nr,kp=rp,xp=ha,Ap=_n,ki=va,Np=Wn,Dp=gn,Rp=Math.min,Pp=[].push,De="split",te="length",Ar="lastIndex",en=4294967295,vt=!Dp(function(){RegExp(en,"y")});ya("split",2,function(t,e,r,n){var i;return"abbc"[De](/(b)*/)[1]=="c"||"test"[De](/(?:)/,-1)[te]!=4||"ab"[De](/(?:ab)*/)[te]!=2||"."[De](/(.?)(.?)/)[te]!=4||"."[De](/()()/)[te]>1||""[De](/.?/)[te]?i=function(o,a){var s=String(this);if(o===void 0&&a===0)return[];if(!Tp(o))return r.call(s,o,a);for(var u=[],c=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(o.sticky?"y":""),l=0,f=a===void 0?en:a>>>0,p=new RegExp(o.source,c+"g"),d,h,y;(d=Np.call(p,s))&&(h=p[Ar],!(h>l&&(u.push(s.slice(l,d.index)),d[te]>1&&d.index<s[te]&&Pp.apply(u,d.slice(1)),y=d[0][te],l=h,u[te]>=f)));)p[Ar]===d.index&&p[Ar]++;return l===s[te]?(y||!p.test(""))&&u.push(""):u.push(s.slice(l)),u[te]>f?u.slice(0,f):u}:"0"[De](void 0,0)[te]?i=function(o,a){return o===void 0&&a===0?[]:r.call(this,o,a)}:i=r,[function(a,s){var u=t(this),c=a?.[e];return c!==void 0?c.call(a,u,s):i.call(String(u),a,s)},function(o,a){var s=n(i,o,this,a,i!==r);if(s.done)return s.value;var u=Ip(o),c=String(this),l=kp(u,RegExp),f=u.unicode,p=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(vt?"y":"g"),d=new l(vt?u:"^(?:"+u.source+")",p),h=a===void 0?en:a>>>0;if(h===0)return[];if(c.length===0)return ki(d,c)===null?[c]:[];for(var y=0,S=0,b=[];S<c.length;){d.lastIndex=vt?S:0;var E=ki(d,vt?c:c.slice(S)),T;if(E===null||(T=Rp(Ap(d.lastIndex+(vt?0:S)),c.length))===y)S=xp(c,S,f);else{if(b.push(c.slice(y,S)),b.length===h)return b;for(var A=1;A<=E.length-1;A++)if(b.push(E[A]),b.length===h)return b;S=y=T}}return b.push(c.slice(y)),b}]});var Cp=nr,Mp=Is,Lp=_n,$p=ao,jp=ha,Fp=va,Up=Math.max,Bp=Math.min,Gp=Math.floor,Yp=/\$([$&`']|\d\d?|<[^>]*>)/g,qp=/\$([$&`']|\d\d?)/g,Hp=function(t){return t===void 0?t:String(t)};ya("replace",2,function(t,e,r,n){return[function(a,s){var u=t(this),c=a?.[e];return c!==void 0?c.call(a,u,s):r.call(String(u),a,s)},function(o,a){var s=n(r,o,this,a);if(s.done)return s.value;var u=Cp(o),c=String(this),l=typeof a=="function";l||(a=String(a));var f=u.global;if(f){var p=u.unicode;u.lastIndex=0}for(var d=[];;){var h=Fp(u,c);if(h===null||(d.push(h),!f))break;var y=String(h[0]);y===""&&(u.lastIndex=jp(c,Lp(u.lastIndex),p))}for(var S="",b=0,E=0;E<d.length;E++){h=d[E];for(var T=String(h[0]),A=Up(Bp($p(h.index),c.length),0),N=[],R=1;R<h.length;R++)N.push(Hp(h[R]));var F=h.groups;if(l){var Y=[T].concat(N,A,c);F!==void 0&&Y.push(F);var H=String(a.apply(void 0,Y))}else H=i(T,c,A,N,F,a);A>=b&&(S+=c.slice(b,A)+H,b=A+T.length)}return S+c.slice(b)}];function i(o,a,s,u,c,l){var f=s+o.length,p=u.length,d=qp;return c!==void 0&&(c=Mp(c),d=Yp),r.call(l,d,function(h,y){var S;switch(y.charAt(0)){case"$":return"$";case"&":return o;case"`":return a.slice(0,s);case"'":return a.slice(f);case"<":S=c[y.slice(1,-1)];break;default:var b=+y;if(b===0)return h;if(b>p){var E=Gp(b/10);return E===0?h:E<=p?u[E-1]===void 0?y.charAt(1):u[E-1]+y.charAt(1):h}S=u[b-1]}return S===void 0?"":S})}});var Nr=uo,xi=Xf,zp=vn,Ai=ks,Ni=_n,Di=[].slice;Nr(Nr.P+Nr.F*gn(function(){xi&&Di.call(xi)}),"Array",{slice:function(e,r){var n=Ni(this.length),i=zp(this);if(r=r===void 0?n:r,i=="Array")return Di.call(this,e,r);for(var o=Ai(e,n),a=Ai(r,n),s=Ni(a-o),u=new Array(s),c=0;c<s;c++)u[c]=i=="String"?this.charAt(o+c):this[o+c];return u}});var ma={exports:{}};(function(t){function e(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(ma);var Kp=ma.exports,ba={exports:{}};(function(t){var e=xs;function r(i,o){for(var a=0;a<o.length;a++){var s=o[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,e(s.key),s)}}function n(i,o,a){return o&&r(i.prototype,o),a&&r(i,a),Object.defineProperty(i,"prototype",{writable:!1}),i}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(ba);var Wp=ba.exports;let q=[],Ee=(t,e)=>{let r=[],n={get(){return n.lc||n.listen(()=>{})(),n.value},l:e||0,lc:0,listen(i,o){return n.lc=r.push(i,o||n.l)/2,()=>{let a=r.indexOf(i);~a&&(r.splice(a,2),n.lc--,n.lc||n.off())}},notify(i){let o=!q.length;for(let a=0;a<r.length;a+=2)q.push(r[a],n.value,i,r[a+1]);if(o){for(let a=0;a<q.length;a+=4){let s=!1;for(let u=a+7;u<q.length;u+=4)if(q[u]<q[a+3]){s=!0;break}s?q.push(q[a],q[a+1],q[a+2],q[a+3]):q[a](q[a+1],q[a+2])}q.length=0}},off(){},set(i){n.value!==i&&(n.value=i,n.notify())},subscribe(i,o){let a=n.listen(i,o);return i(n.value),a},value:t};return n};const Vp=5,Lt=6,$t=10;let Jp=(t,e,r,n)=>(t.events=t.events||{},t.events[r+$t]||(t.events[r+$t]=n(i=>{t.events[r].reduceRight((o,a)=>(a(o),o),{shared:{},...i})})),t.events[r]=t.events[r]||[],t.events[r].push(e),()=>{let i=t.events[r],o=i.indexOf(e);i.splice(o,1),i.length||(delete t.events[r],t.events[r+$t](),delete t.events[r+$t])}),Xp=1e3,Qp=(t,e)=>Jp(t,n=>{let i=e(n);i&&t.events[Lt].push(i)},Vp,n=>{let i=t.listen;t.listen=(...a)=>(!t.lc&&!t.active&&(t.active=!0,n()),i(...a));let o=t.off;return t.events[Lt]=[],t.off=()=>{o(),setTimeout(()=>{if(t.active&&!t.lc){t.active=!1;for(let a of t.events[Lt])a();t.events[Lt]=[]}},Xp)},()=>{t.listen=i,t.off=o}}),Zp=(t,e)=>{Array.isArray(t)||(t=[t]);let r,n=()=>{let o=t.map(a=>a.get());(r===void 0||o.some((a,s)=>a!==r[s]))&&(r=o,i.set(e(...o)))},i=Ee(void 0,Math.max(...t.map(o=>o.l))+1);return Qp(i,()=>{let o=t.map(a=>a.listen(n,i.l));return n(),()=>{for(let a of o)a()}}),i};var Ea={},ke={},eh={exports:{}};(function(t){var e=function(r){var n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(_,v,m){_[v]=m.value},a,s=typeof Symbol=="function"?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(_,v,m){return Object.defineProperty(_,v,{value:m,enumerable:!0,configurable:!0,writable:!0}),_[v]}try{f({},"")}catch{f=function(v,m,x){return v[m]=x}}function p(_,v,m,x){var I=v&&v.prototype instanceof T?v:T,C=Object.create(I.prototype),z=new dt(x||[]);return o(C,"_invoke",{value:ye(_,m,z)}),C}r.wrap=p;function d(_,v,m){try{return{type:"normal",arg:_.call(v,m)}}catch(x){return{type:"throw",arg:x}}}var h="suspendedStart",y="suspendedYield",S="executing",b="completed",E={};function T(){}function A(){}function N(){}var R={};f(R,u,function(){return this});var F=Object.getPrototypeOf,Y=F&&F(F(Er([])));Y&&Y!==n&&i.call(Y,u)&&(R=Y);var H=N.prototype=T.prototype=Object.create(R);A.prototype=N,o(H,"constructor",{value:N,configurable:!0}),o(N,"constructor",{value:A,configurable:!0}),A.displayName=f(N,l,"GeneratorFunction");function j(_){["next","throw","return"].forEach(function(v){f(_,v,function(m){return this._invoke(v,m)})})}r.isGeneratorFunction=function(_){var v=typeof _=="function"&&_.constructor;return v?v===A||(v.displayName||v.name)==="GeneratorFunction":!1},r.mark=function(_){return Object.setPrototypeOf?Object.setPrototypeOf(_,N):(_.__proto__=N,f(_,l,"GeneratorFunction")),_.prototype=Object.create(H),_},r.awrap=function(_){return{__await:_}};function P(_,v){function m(C,z,K,ee){var W=d(_[C],_,z);if(W.type==="throw")ee(W.arg);else{var Sr=W.arg,pt=Sr.value;return pt&&typeof pt=="object"&&i.call(pt,"__await")?v.resolve(pt.__await).then(function(Ae){m("next",Ae,K,ee)},function(Ae){m("throw",Ae,K,ee)}):v.resolve(pt).then(function(Ae){Sr.value=Ae,K(Sr)},function(Ae){return m("throw",Ae,K,ee)})}}var x;function I(C,z){function K(){return new v(function(ee,W){m(C,z,ee,W)})}return x=x?x.then(K,K):K()}o(this,"_invoke",{value:I})}j(P.prototype),f(P.prototype,c,function(){return this}),r.AsyncIterator=P,r.async=function(_,v,m,x,I){I===void 0&&(I=Promise);var C=new P(p(_,v,m,x),I);return r.isGeneratorFunction(v)?C:C.next().then(function(z){return z.done?z.value:C.next()})};function ye(_,v,m){var x=h;return function(C,z){if(x===S)throw new Error("Generator is already running");if(x===b){if(C==="throw")throw z;return os()}for(m.method=C,m.arg=z;;){var K=m.delegate;if(K){var ee=ft(K,m);if(ee){if(ee===E)continue;return ee}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(x===h)throw x=b,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);x=S;var W=d(_,v,m);if(W.type==="normal"){if(x=m.done?b:y,W.arg===E)continue;return{value:W.arg,done:m.done}}else W.type==="throw"&&(x=b,m.method="throw",m.arg=W.arg)}}}function ft(_,v){var m=v.method,x=_.iterator[m];if(x===a)return v.delegate=null,m==="throw"&&_.iterator.return&&(v.method="return",v.arg=a,ft(_,v),v.method==="throw")||m!=="return"&&(v.method="throw",v.arg=new TypeError("The iterator does not provide a '"+m+"' method")),E;var I=d(x,_.iterator,v.arg);if(I.type==="throw")return v.method="throw",v.arg=I.arg,v.delegate=null,E;var C=I.arg;if(!C)return v.method="throw",v.arg=new TypeError("iterator result is not an object"),v.delegate=null,E;if(C.done)v[_.resultName]=C.value,v.next=_.nextLoc,v.method!=="return"&&(v.method="next",v.arg=a);else return C;return v.delegate=null,E}j(H),f(H,l,"Generator"),f(H,u,function(){return this}),f(H,"toString",function(){return"[object Generator]"});function Dt(_){var v={tryLoc:_[0]};1 in _&&(v.catchLoc=_[1]),2 in _&&(v.finallyLoc=_[2],v.afterLoc=_[3]),this.tryEntries.push(v)}function ze(_){var v=_.completion||{};v.type="normal",delete v.arg,_.completion=v}function dt(_){this.tryEntries=[{tryLoc:"root"}],_.forEach(Dt,this),this.reset(!0)}r.keys=function(_){var v=Object(_),m=[];for(var x in v)m.push(x);return m.reverse(),function I(){for(;m.length;){var C=m.pop();if(C in v)return I.value=C,I.done=!1,I}return I.done=!0,I}};function Er(_){if(_||_===""){var v=_[u];if(v)return v.call(_);if(typeof _.next=="function")return _;if(!isNaN(_.length)){var m=-1,x=function I(){for(;++m<_.length;)if(i.call(_,m))return I.value=_[m],I.done=!1,I;return I.value=a,I.done=!0,I};return x.next=x}}throw new TypeError(typeof _+" is not iterable")}r.values=Er;function os(){return{value:a,done:!0}}return dt.prototype={constructor:dt,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(ze),!_)for(var v in this)v.charAt(0)==="t"&&i.call(this,v)&&!isNaN(+v.slice(1))&&(this[v]=a)},stop:function(){this.done=!0;var _=this.tryEntries[0],v=_.completion;if(v.type==="throw")throw v.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var v=this;function m(ee,W){return C.type="throw",C.arg=_,v.next=ee,W&&(v.method="next",v.arg=a),!!W}for(var x=this.tryEntries.length-1;x>=0;--x){var I=this.tryEntries[x],C=I.completion;if(I.tryLoc==="root")return m("end");if(I.tryLoc<=this.prev){var z=i.call(I,"catchLoc"),K=i.call(I,"finallyLoc");if(z&&K){if(this.prev<I.catchLoc)return m(I.catchLoc,!0);if(this.prev<I.finallyLoc)return m(I.finallyLoc)}else if(z){if(this.prev<I.catchLoc)return m(I.catchLoc,!0)}else if(K){if(this.prev<I.finallyLoc)return m(I.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(_,v){for(var m=this.tryEntries.length-1;m>=0;--m){var x=this.tryEntries[m];if(x.tryLoc<=this.prev&&i.call(x,"finallyLoc")&&this.prev<x.finallyLoc){var I=x;break}}I&&(_==="break"||_==="continue")&&I.tryLoc<=v&&v<=I.finallyLoc&&(I=null);var C=I?I.completion:{};return C.type=_,C.arg=v,I?(this.method="next",this.next=I.finallyLoc,E):this.complete(C)},complete:function(_,v){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&v&&(this.next=v),E},finish:function(_){for(var v=this.tryEntries.length-1;v>=0;--v){var m=this.tryEntries[v];if(m.finallyLoc===_)return this.complete(m.completion,m.afterLoc),ze(m),E}},catch:function(_){for(var v=this.tryEntries.length-1;v>=0;--v){var m=this.tryEntries[v];if(m.tryLoc===_){var x=m.completion;if(x.type==="throw"){var I=x.arg;ze(m)}return I}}throw new Error("illegal catch attempt")},delegateYield:function(_,v,m){return this.delegate={iterator:Er(_),resultName:v,nextLoc:m},this.method==="next"&&(this.arg=a),E}},r}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(eh);const th=fo(dl);var re={};const rh=fo(wl);var Sa=co.default;Object.defineProperty(re,"__esModule",{value:!0});re.stringToSnakeCase=re.getDeployableInfo=re.getCookie=re.convertCamelCaseToSnakeCase=re.camelToSnakeCase=void 0;var nh=Sa(rh),Xe=Sa(lo),ih=new nh.default,oh=function(e){return ih.get(e)};re.getCookie=oh;var ah=function(e){return e?e.toLowerCase().replace(/\W+/g," ").split(/ |\B(?=[A-Z])/).join("_"):""};re.stringToSnakeCase=ah;var wa=function(e){return e.replace(/[A-Z]/g,function(r){return"_".concat(r.toLowerCase())})};re.camelToSnakeCase=wa;var sh=function(e){if(!e)return e;var r={};return Object.keys(e).forEach(function(n){r[wa(n)]=e[n]}),r};re.convertCamelCaseToSnakeCase=sh;var uh=function(){var e,r;return{deployable_name:Xe.default===null||Xe.default===void 0||(e=Xe.default._meta)===null||e===void 0?void 0:e.deployable,deployable_version:Xe.default===null||Xe.default===void 0||(r=Xe.default._meta)===null||r===void 0?void 0:r.version}};re.getDeployableInfo=uh;var He=co.default;Object.defineProperty(ke,"__esModule",{value:!0});ke.initializeSegment=ke.SegmentMock=ke.SegmentLive=void 0;var ch=He(Nl),et=He(ho),Oa=He(Kp),Ta=He(Wp),Dr=He(Vd),Ri=He(la),lh=th,Rr=He(lo),Pr=re,Ia=function(){function t(e){(0,Oa.default)(this,t),this.analytics=e}return(0,Ta.default)(t,[{key:"segmentInstance",get:function(){return this.analytics}},{key:"page",value:function(){var e=(0,et.default)(regeneratorRuntime.mark(function n(){var i,o=arguments;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:(i=this.analytics).page.apply(i,o);case 1:case"end":return s.stop()}},n,this)}));function r(){return e.apply(this,arguments)}return r}()},{key:"track",value:function(){var e=(0,et.default)(regeneratorRuntime.mark(function n(){var i,o,a,s,u,c,l,f=arguments;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:for(o=f.length,a=new Array(o),s=0;s<o;s++)a[s]=f[s];u=a[0],c=a[1],l=a.slice(2),(0,Ri.default)(u)?u=(0,Dr.default)({},{properties:(0,Pr.getDeployableInfo)()},u):c=(0,Dr.default)({},(0,Pr.getDeployableInfo)(),c),(i=this.analytics).track.apply(i,[u,c].concat((0,ch.default)(l)));case 5:case"end":return d.stop()}},n,this)}));function r(){return e.apply(this,arguments)}return r}()},{key:"trackLink",value:function(){var e=(0,et.default)(regeneratorRuntime.mark(function n(){var i,o,a,s,u,c,l=arguments;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:for(i=l.length,o=new Array(i),a=0;a<i;a++)o[a]=l[a];s=o[0],u=o[1],c=o[2],(0,Ri.default)(c)&&(c=(0,Dr.default)({},(0,Pr.getDeployableInfo)(),c)),this.analytics.trackLink(s,u,c);case 5:case"end":return p.stop()}},n,this)}));function r(){return e.apply(this,arguments)}return r}()}]),t}();ke.SegmentLive=Ia;var tn=function(){function t(){(0,Oa.default)(this,t)}return(0,Ta.default)(t,[{key:"page",value:function(){var e=(0,et.default)(regeneratorRuntime.mark(function n(){var i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:for(o=u.length,a=new Array(o),s=0;s<o;s++)a[s]=u[s];(i=console).log.apply(i,["ANALYTICS PAGE_VIEW"].concat(a));case 2:case"end":return l.stop()}},n)}));function r(){return e.apply(this,arguments)}return r}()},{key:"track",value:function(){var e=(0,et.default)(regeneratorRuntime.mark(function n(){var i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:for(o=u.length,a=new Array(o),s=0;s<o;s++)a[s]=u[s];(i=console).log.apply(i,["ANALYTICS TRACK"].concat(a));case 2:case"end":return l.stop()}},n)}));function r(){return e.apply(this,arguments)}return r}()},{key:"trackLink",value:function(){var e=(0,et.default)(regeneratorRuntime.mark(function n(){var i,o,a,s,u=arguments;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:for(o=u.length,a=new Array(o),s=0;s<o;s++)a[s]=u[s];(i=console).log.apply(i,["ANALYTICS TRACK LINK"].concat(a));case 2:case"end":return l.stop()}},n)}));function r(){return e.apply(this,arguments)}return r}()}]),t}();ke.SegmentMock=tn;var fh=function(){var e,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.debug,i=n===void 0?!1:n;if(i)return new tn;var o=Rr.default===null||Rr.default===void 0||(e=Rr.default.SEGMENT)===null||e===void 0?void 0:e.WRITE_KEY;if(!o||typeof window>"u")return new tn;var a=lh.AnalyticsBrowser.load({writeKey:o,cdnURL:"https://siteusagetools.nerdwallet.com"},{integrations:{"Segment.io":{apiHost:"siteusage.nerdwallet.com/v1",protocol:"https"}}});return new Ia(a)};ke.initializeSegment=fh;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"initializeSegment",{enumerable:!0,get:function(){return e.initializeSegment}});var e=ke})(Ea);var dh=Ea;const ka=Object.prototype.toString;function xa(t){switch(ka.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return lt(t,Error)}}function xt(t,e){return ka.call(t)===`[object ${e}]`}function Vn(t){return xt(t,"ErrorEvent")}function Pi(t){return xt(t,"DOMError")}function ph(t){return xt(t,"DOMException")}function St(t){return xt(t,"String")}function Aa(t){return t===null||typeof t!="object"&&typeof t!="function"}function ot(t){return xt(t,"Object")}function gr(t){return typeof Event<"u"&&lt(t,Event)}function hh(t){return typeof Element<"u"&&lt(t,Element)}function Jn(t){return!!(t&&t.then&&typeof t.then=="function")}function vh(t){return ot(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function gh(t){return typeof t=="number"&&t!==t}function lt(t,e){try{return t instanceof e}catch{return!1}}function jt(t){return t&&t.Math==Math?t:void 0}const ne=typeof globalThis=="object"&&jt(globalThis)||typeof window=="object"&&jt(window)||typeof self=="object"&&jt(self)||typeof global=="object"&&jt(global)||function(){return this}()||{};function At(){return ne}function Xn(t,e,r){const n=r||ne,i=n.__SENTRY__=n.__SENTRY__||{};return i[t]||(i[t]=e())}const _h=At(),yh=80;function rn(t,e={}){try{let r=t;const n=5,i=[];let o=0,a=0;const s=" > ",u=s.length;let c;const l=Array.isArray(e)?e:e.keyAttrs,f=!Array.isArray(e)&&e.maxStringLength||yh;for(;r&&o++<n&&(c=mh(r,l),!(c==="html"||o>1&&a+i.length*u+c.length>=f));)i.push(c),a+=c.length,r=r.parentNode;return i.reverse().join(s)}catch{return"<unknown>"}}function mh(t,e){const r=t,n=[];let i,o,a,s,u;if(!r||!r.tagName)return"";n.push(r.tagName.toLowerCase());const c=e&&e.length?e.filter(f=>r.getAttribute(f)).map(f=>[f,r.getAttribute(f)]):null;if(c&&c.length)c.forEach(f=>{n.push(`[${f[0]}="${f[1]}"]`)});else if(r.id&&n.push(`#${r.id}`),i=r.className,i&&St(i))for(o=i.split(/\s+/),u=0;u<o.length;u++)n.push(`.${o[u]}`);const l=["aria-label","type","name","title","alt"];for(u=0;u<l.length;u++)a=l[u],s=r.getAttribute(a),s&&n.push(`[${a}="${s}"]`);return n.join("")}function bh(){try{return _h.document.location.href}catch{return""}}const Eh="Sentry Logger ",er=["debug","info","warn","error","log","assert","trace"];function Na(t){if(!("console"in ne))return t();const e=ne.console,r={};er.forEach(n=>{const i=e[n]&&e[n].__sentry_original__;n in e&&i&&(r[n]=e[n],e[n]=i)});try{return t()}finally{Object.keys(r).forEach(n=>{e[n]=r[n]})}}function Ci(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?er.forEach(r=>{e[r]=(...n)=>{t&&Na(()=>{ne.console[r](`${Eh}[${r}]:`,...n)})}}):er.forEach(r=>{e[r]=()=>{}}),e}let D;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?D=Xn("logger",Ci):D=Ci();const Sh=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function wh(t){return t==="http"||t==="https"}function _r(t,e=!1){const{host:r,path:n,pass:i,port:o,projectId:a,protocol:s,publicKey:u}=t;return`${s}://${u}${e&&i?`:${i}`:""}@${r}${o?`:${o}`:""}/${n&&`${n}/`}${a}`}function Oh(t){const e=Sh.exec(t);if(!e){console.error(`Invalid Sentry Dsn: ${t}`);return}const[r,n,i="",o,a="",s]=e.slice(1);let u="",c=s;const l=c.split("/");if(l.length>1&&(u=l.slice(0,-1).join("/"),c=l.pop()),c){const f=c.match(/^\d+/);f&&(c=f[0])}return Da({host:o,pass:i,path:u,projectId:c,port:a,protocol:r,publicKey:n})}function Da(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function Th(t){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return!0;const{port:e,projectId:r,protocol:n}=t;return["protocol","publicKey","host","projectId"].find(a=>t[a]?!1:(D.error(`Invalid Sentry Dsn: ${a} missing`),!0))?!1:r.match(/^\d+$/)?wh(n)?e&&isNaN(parseInt(e,10))?(D.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(D.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(D.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function Ih(t){const e=typeof t=="string"?Oh(t):Da(t);if(!(!e||!Th(e)))return e}class ae extends Error{constructor(e,r="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=r}}function mt(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function Mi(t,e){if(!Array.isArray(t))return"";const r=[];for(let n=0;n<t.length;n++){const i=t[n];try{r.push(String(i))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function pe(t,e,r){if(!(e in t))return;const n=t[e],i=r(n);if(typeof i=="function")try{kh(i,n)}catch{}t[e]=i}function Ra(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}function kh(t,e){const r=e.prototype||{};t.prototype=e.prototype=r,Ra(t,"__sentry_original__",e)}function xh(t){return Object.keys(t).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`).join("&")}function Pa(t){if(xa(t))return{message:t.message,name:t.name,stack:t.stack,...$i(t)};if(gr(t)){const e={type:t.type,target:Li(t.target),currentTarget:Li(t.currentTarget),...$i(t)};return typeof CustomEvent<"u"&&lt(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function Li(t){try{return hh(t)?rn(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function $i(t){if(typeof t=="object"&&t!==null){const e={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function Ah(t,e=40){const r=Object.keys(Pa(t));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=e)return mt(r[0],e);for(let n=r.length;n>0;n--){const i=r.slice(0,n).join(", ");if(!(i.length>e))return n===r.length?i:mt(i,e)}return""}function Qn(t){return nn(t,new Map)}function nn(t,e){if(ot(t)){const r=e.get(t);if(r!==void 0)return r;const n={};e.set(t,n);for(const i of Object.keys(t))typeof t[i]<"u"&&(n[i]=nn(t[i],e));return n}if(Array.isArray(t)){const r=e.get(t);if(r!==void 0)return r;const n=[];return e.set(t,n),t.forEach(i=>{n.push(nn(i,e))}),n}return t}const Ca=50,ji=/\(error: (.*)\)/;function Nh(...t){const e=t.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0)=>{const i=[],o=r.split(`
`);for(let a=n;a<o.length;a++){const s=o[a];if(s.length>1024)continue;const u=ji.test(s)?s.replace(ji,"$1"):s;if(!u.match(/\S*Error: /)){for(const c of e){const l=c(u);if(l){i.push(l);break}}if(i.length>=Ca)break}}return Dh(i)}}function Dh(t){if(!t.length)return[];const e=t.slice(0,Ca),r=e[e.length-1].function;r&&/sentryWrapped/.test(r)&&e.pop(),e.reverse();const n=e[e.length-1].function;return n&&/captureMessage|captureException/.test(n)&&e.pop(),e.map(i=>({...i,filename:i.filename||e[e.length-1].filename,function:i.function||"?"}))}const Cr="<anonymous>";function Ma(t){try{return!t||typeof t!="function"?Cr:t.name||Cr}catch{return Cr}}const on=At();function Rh(){if(!("fetch"in on))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function an(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function Ph(){if(!Rh())return!1;if(an(on.fetch))return!0;let t=!1;const e=on.document;if(e&&typeof e.createElement=="function")try{const r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=an(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}const Ft=At();function Ch(){const t=Ft.chrome,e=t&&t.app&&t.app.runtime,r="history"in Ft&&!!Ft.history.pushState&&!!Ft.history.replaceState;return!e&&r}const M=At(),gt="__sentry_xhr_v2__",bt={},Fi={};function Mh(t){if(!Fi[t])switch(Fi[t]=!0,t){case"console":Lh();break;case"dom":qh();break;case"xhr":Fh();break;case"fetch":$h();break;case"history":Uh();break;case"error":Hh();break;case"unhandledrejection":zh();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.warn("unknown instrumentation type:",t);return}}function Pe(t,e){bt[t]=bt[t]||[],bt[t].push(e),Mh(t)}function ce(t,e){if(!(!t||!bt[t]))for(const r of bt[t]||[])try{r(e)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Ma(r)}
Error:`,n)}}function Lh(){"console"in M&&er.forEach(function(t){t in M.console&&pe(M.console,t,function(e){return function(...r){ce("console",{args:r,level:t}),e&&e.apply(M.console,r)}})})}function $h(){Ph()&&pe(M,"fetch",function(t){return function(...e){const{method:r,url:n}=jh(e),i={args:e,fetchData:{method:r,url:n},startTimestamp:Date.now()};return ce("fetch",{...i}),t.apply(M,e).then(o=>(ce("fetch",{...i,endTimestamp:Date.now(),response:o}),o),o=>{throw ce("fetch",{...i,endTimestamp:Date.now(),error:o}),o})}})}function sn(t,e){return!!t&&typeof t=="object"&&!!t[e]}function Ui(t){return typeof t=="string"?t:t?sn(t,"url")?t.url:t.toString?t.toString():"":""}function jh(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[r,n]=t;return{url:Ui(r),method:sn(n,"method")?String(n.method).toUpperCase():"GET"}}const e=t[0];return{url:Ui(e),method:sn(e,"method")?String(e.method).toUpperCase():"GET"}}function Fh(){if(!("XMLHttpRequest"in M))return;const t=XMLHttpRequest.prototype;pe(t,"open",function(e){return function(...r){const n=r[1],i=this[gt]={method:St(r[0])?r[0].toUpperCase():r[0],url:r[1],request_headers:{}};St(n)&&i.method==="POST"&&n.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const a=this[gt];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}ce("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?pe(this,"onreadystatechange",function(a){return function(...s){return o(),a.apply(this,s)}}):this.addEventListener("readystatechange",o),pe(this,"setRequestHeader",function(a){return function(...s){const[u,c]=s,l=this[gt];return l&&(l.request_headers[u.toLowerCase()]=c),a.apply(this,s)}}),e.apply(this,r)}}),pe(t,"send",function(e){return function(...r){const n=this[gt];return n&&r[0]!==void 0&&(n.body=r[0]),ce("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),e.apply(this,r)}})}let Ut;function Uh(){if(!Ch())return;const t=M.onpopstate;M.onpopstate=function(...r){const n=M.location.href,i=Ut;if(Ut=n,ce("history",{from:i,to:n}),t)try{return t.apply(this,r)}catch{}};function e(r){return function(...n){const i=n.length>2?n[2]:void 0;if(i){const o=Ut,a=String(i);Ut=a,ce("history",{from:o,to:a})}return r.apply(this,n)}}pe(M.history,"pushState",e),pe(M.history,"replaceState",e)}const Bh=1e3;let Bt,Gt;function Gh(t,e){if(!t||t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch{}return!1}function Yh(t){if(t.type!=="keypress")return!1;try{const e=t.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch{}return!0}function Bi(t,e=!1){return r=>{if(!r||Gt===r||Yh(r))return;const n=r.type==="keypress"?"input":r.type;Bt===void 0?(t({event:r,name:n,global:e}),Gt=r):Gh(Gt,r)&&(t({event:r,name:n,global:e}),Gt=r),clearTimeout(Bt),Bt=M.setTimeout(()=>{Bt=void 0},Bh)}}function qh(){if(!("document"in M))return;const t=ce.bind(null,"dom"),e=Bi(t,!0);M.document.addEventListener("click",e,!1),M.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{const n=M[r]&&M[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(pe(n,"addEventListener",function(i){return function(o,a,s){if(o==="click"||o=="keypress")try{const u=this,c=u.__sentry_instrumentation_handlers__=u.__sentry_instrumentation_handlers__||{},l=c[o]=c[o]||{refCount:0};if(!l.handler){const f=Bi(t);l.handler=f,i.call(this,o,f,s)}l.refCount++}catch{}return i.call(this,o,a,s)}}),pe(n,"removeEventListener",function(i){return function(o,a,s){if(o==="click"||o=="keypress")try{const u=this,c=u.__sentry_instrumentation_handlers__||{},l=c[o];l&&(l.refCount--,l.refCount<=0&&(i.call(this,o,l.handler,s),l.handler=void 0,delete c[o]),Object.keys(c).length===0&&delete u.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,a,s)}}))})}let Yt=null;function Hh(){Yt=M.onerror,M.onerror=function(t,e,r,n,i){return ce("error",{column:n,error:i,line:r,msg:t,url:e}),Yt&&!Yt.__SENTRY_LOADER__?Yt.apply(this,arguments):!1},M.onerror.__SENTRY_INSTRUMENTED__=!0}let qt=null;function zh(){qt=M.onunhandledrejection,M.onunhandledrejection=function(t){return ce("unhandledrejection",t),qt&&!qt.__SENTRY_LOADER__?qt.apply(this,arguments):!0},M.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Kh(){const t=typeof WeakSet=="function",e=t?new WeakSet:[];function r(i){if(t)return e.has(i)?!0:(e.add(i),!1);for(let o=0;o<e.length;o++)if(e[o]===i)return!0;return e.push(i),!1}function n(i){if(t)e.delete(i);else for(let o=0;o<e.length;o++)if(e[o]===i){e.splice(o,1);break}}return[r,n]}function tt(){const t=ne,e=t.crypto||t.msCrypto;if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");const r=e&&e.getRandomValues?()=>e.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function La(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function Wh(t){const{message:e,event_id:r}=t;if(e)return e;const n=La(t);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function Gi(t,e,r){const n=t.exception=t.exception||{},i=n.values=n.values||[],o=i[0]=i[0]||{};o.value||(o.value=e||""),o.type||(o.type="Error")}function tr(t,e){const r=La(t);if(!r)return;const n={type:"generic",handled:!0},i=r.mechanism;if(r.mechanism={...n,...i,...e},e&&"data"in e){const o={...i&&i.data,...e.data};r.mechanism.data=o}}function Yi(t){if(t&&t.__sentry_captured__)return!0;try{Ra(t,"__sentry_captured__",!0)}catch{}return!1}function Vh(t){return Array.isArray(t)?t:[t]}function Jh(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Xh(){return"npm"}function Qh(){return!Jh()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Zh(t,e){return t.require(e)}function Te(t,e=100,r=1/0){try{return un("",t,e,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function $a(t,e=3,r=100*1024){const n=Te(t,e);return nv(n)>r?$a(t,e-1,r):n}function un(t,e,r=1/0,n=1/0,i=Kh()){const[o,a]=i;if(e==null||["number","boolean","string"].includes(typeof e)&&!gh(e))return e;const s=ev(t,e);if(!s.startsWith("[object "))return s;if(e.__sentry_skip_normalization__)return e;const u=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(u===0)return s.replace("object ","");if(o(e))return"[Circular ~]";const c=e;if(c&&typeof c.toJSON=="function")try{const d=c.toJSON();return un("",d,u-1,n,i)}catch{}const l=Array.isArray(e)?[]:{};let f=0;const p=Pa(e);for(const d in p){if(!Object.prototype.hasOwnProperty.call(p,d))continue;if(f>=n){l[d]="[MaxProperties ~]";break}const h=p[d];l[d]=un(d,h,u-1,n,i),f++}return a(e),l}function ev(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(vh(e))return"[SyntheticEvent]";if(typeof e=="number"&&e!==e)return"[NaN]";if(typeof e=="function")return`[Function: ${Ma(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const r=tv(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function tv(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}function rv(t){return~-encodeURI(t).split(/%..|./).length}function nv(t){return rv(JSON.stringify(t))}var me;(function(t){t[t.PENDING=0]="PENDING";const r=1;t[t.RESOLVED=r]="RESOLVED";const n=2;t[t.REJECTED=n]="REJECTED"})(me||(me={}));function Be(t){return new V(e=>{e(t)})}function rr(t){return new V((e,r)=>{r(t)})}class V{__init(){this._state=me.PENDING}__init2(){this._handlers=[]}constructor(e){V.prototype.__init.call(this),V.prototype.__init2.call(this),V.prototype.__init3.call(this),V.prototype.__init4.call(this),V.prototype.__init5.call(this),V.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new V((n,i)=>{this._handlers.push([!1,o=>{if(!e)n(o);else try{n(e(o))}catch(a){i(a)}},o=>{if(!r)i(o);else try{n(r(o))}catch(a){i(a)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new V((r,n)=>{let i,o;return this.then(a=>{o=!1,i=a,e&&e()},a=>{o=!0,i=a,e&&e()}).then(()=>{if(o){n(i);return}r(i)})})}__init3(){this._resolve=e=>{this._setResult(me.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(me.REJECTED,e)}}__init5(){this._setResult=(e,r)=>{if(this._state===me.PENDING){if(Jn(r)){r.then(this._resolve,this._reject);return}this._state=e,this._value=r,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state===me.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===me.RESOLVED&&r[1](this._value),this._state===me.REJECTED&&r[2](this._value),r[0]=!0)})}}}function iv(t){const e=[];function r(){return t===void 0||e.length<t}function n(a){return e.splice(e.indexOf(a),1)[0]}function i(a){if(!r())return rr(new ae("Not adding Promise because buffer limit was reached."));const s=a();return e.indexOf(s)===-1&&e.push(s),s.then(()=>n(s)).then(null,()=>n(s).then(null,()=>{})),s}function o(a){return new V((s,u)=>{let c=e.length;if(!c)return s(!0);const l=setTimeout(()=>{a&&a>0&&s(!1)},a);e.forEach(f=>{Be(f).then(()=>{--c||(clearTimeout(l),s(!0))},u)})})}return{$:e,add:i,drain:o}}function Mr(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:n,relative:e[5]+r+n}}const ov=["fatal","error","warning","log","info","debug"];function av(t){return t==="warn"?"warning":ov.includes(t)?t:"log"}const ja=At(),cn={nowSeconds:()=>Date.now()/1e3};function sv(){const{performance:t}=ja;if(!t||!t.now)return;const e=Date.now()-t.now();return{now:()=>t.now(),timeOrigin:e}}function uv(){try{return Zh(module,"perf_hooks").performance}catch{return}}const Lr=Qh()?uv():sv(),qi=Lr===void 0?cn:{nowSeconds:()=>(Lr.timeOrigin+Lr.now())/1e3},yr=cn.nowSeconds.bind(cn),Fa=qi.nowSeconds.bind(qi);(()=>{const{performance:t}=ja;if(!t||!t.now)return;const e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,o=i<e,a=t.timing&&t.timing.navigationStart,u=typeof a=="number"?Math.abs(a+r-n):e,c=u<e;return o||c?i<=u?t.timeOrigin:a:n})();function Nt(t,e=[]){return[t,e]}function cv(t,e){const[r,n]=t;return[r,[...n,e]]}function Hi(t,e){const r=t[1];for(const n of r){const i=n[0].type;if(e(n,i))return!0}return!1}function ln(t,e){return(e||new TextEncoder).encode(t)}function lv(t,e){const[r,n]=t;let i=JSON.stringify(r);function o(a){typeof i=="string"?i=typeof a=="string"?i+a:[ln(i,e),a]:i.push(typeof a=="string"?ln(a,e):a)}for(const a of n){const[s,u]=a;if(o(`
${JSON.stringify(s)}
`),typeof u=="string"||u instanceof Uint8Array)o(u);else{let c;try{c=JSON.stringify(u)}catch{c=JSON.stringify(Te(u))}o(c)}}return typeof i=="string"?i:fv(i)}function fv(t){const e=t.reduce((i,o)=>i+o.length,0),r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function dv(t,e){const r=typeof t.data=="string"?ln(t.data,e):t.data;return[Qn({type:"attachment",length:r.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),r]}const pv={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor"};function zi(t){return pv[t]}function Ua(t){if(!t||!t.sdk)return;const{name:e,version:r}=t.sdk;return{name:e,version:r}}function hv(t,e,r,n){const i=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&{dsn:_r(n)},...i&&{trace:Qn({...i})}}}function vv(t,e,r){const n=[{type:"client_report"},{timestamp:yr(),discarded_events:t}];return Nt(e?{dsn:e}:{},[n])}const gv=60*1e3;function _v(t,e=Date.now()){const r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;const n=Date.parse(`${t}`);return isNaN(n)?gv:n-e}function yv(t,e){return t[e]||t.all||0}function mv(t,e,r=Date.now()){return yv(t,e)>r}function bv(t,{statusCode:e,headers:r},n=Date.now()){const i={...t},o=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(o)for(const s of o.trim().split(",")){const[u,c]=s.split(":",2),l=parseInt(u,10),f=(isNaN(l)?60:l)*1e3;if(!c)i.all=n+f;else for(const p of c.split(";"))i[p]=n+f}else a?i.all=n+_v(a,n):e===429&&(i.all=n+60*1e3);return i}const Ba="production";function Ev(t){const e=Fa(),r={sid:tt(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>wv(r)};return t&&at(r,t),r}function at(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Fa(),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:tt()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function Sv(t,e){let r={};t.status==="ok"&&(r={status:"exited"}),at(t,r)}function wv(t){return Qn({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const Ov=100;class $e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(e){const r=new $e;return e&&(r._breadcrumbs=[...e._breadcrumbs],r._tags={...e._tags},r._extra={...e._extra},r._contexts={...e._contexts},r._user=e._user,r._level=e._level,r._span=e._span,r._session=e._session,r._transactionName=e._transactionName,r._fingerprint=e._fingerprint,r._eventProcessors=[...e._eventProcessors],r._requestSession=e._requestSession,r._attachments=[...e._attachments],r._sdkProcessingMetadata={...e._sdkProcessingMetadata}),r}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&at(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){const r=e(this);return r instanceof $e?r:this}return e instanceof $e?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):ot(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,r){const n=typeof r=="number"?r:Ov;if(n<=0)return this;const i={timestamp:yr(),...e};return this._breadcrumbs=[...this._breadcrumbs,i].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,r={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const n=this._span.transaction;if(n){e.sdkProcessingMetadata={dynamicSamplingContext:n.getDynamicSamplingContext(),...e.sdkProcessingMetadata};const i=n.name;i&&(e.tags={transaction:i,...e.tags})}}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...Ga(),...this._eventProcessors],e,r)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,r,n,i=0){return new V((o,a)=>{const s=e[i];if(r===null||typeof s!="function")o(r);else{const u=s({...r},n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&s.id&&u===null&&D.log(`Event processor "${s.id}" dropped event`),Jn(u)?u.then(c=>this._notifyEventProcessors(e,c,n,i+1).then(o)).then(null,a):this._notifyEventProcessors(e,u,n,i+1).then(o).then(null,a)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?Vh(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function Ga(){return Xn("globalEventProcessors",()=>[])}function Ya(t){Ga().push(t)}const qa=4,Tv=100;class Ha{constructor(e,r=new $e,n=qa){this._version=n,this._stack=[{scope:r}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){const r=this.getStackTop();r.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=$e.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const r=this.pushScope();try{e(r)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,r){const n=this._lastEventId=r&&r.event_id?r.event_id:tt(),i=new Error("Sentry syntheticException");return this._withClient((o,a)=>{o.captureException(e,{originalException:e,syntheticException:i,...r,event_id:n},a)}),n}captureMessage(e,r,n){const i=this._lastEventId=n&&n.event_id?n.event_id:tt(),o=new Error(e);return this._withClient((a,s)=>{a.captureMessage(e,r,{originalException:e,syntheticException:o,...n,event_id:i},s)}),i}captureEvent(e,r){const n=r&&r.event_id?r.event_id:tt();return e.type||(this._lastEventId=n),this._withClient((i,o)=>{i.captureEvent(e,{...r,event_id:n},o)}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,r){const{scope:n,client:i}=this.getStackTop();if(!i)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:a=Tv}=i.getOptions&&i.getOptions()||{};if(a<=0)return;const u={timestamp:yr(),...e},c=o?Na(()=>o(u,r)):u;c!==null&&(i.emit&&i.emit("beforeAddBreadcrumb",c,r),n.addBreadcrumb(c,a))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,r){this.getScope().setTag(e,r)}setExtra(e,r){this.getScope().setExtra(e,r)}setContext(e,r){this.getScope().setContext(e,r)}configureScope(e){const{scope:r,client:n}=this.getStackTop();n&&e(r)}run(e){const r=Ki(this);try{e(this)}finally{Ki(r)}}getIntegration(e){const r=this.getClient();if(!r)return null;try{return r.getIntegration(e)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,r){const n=this._callExtensionMethod("startTransaction",e,r);return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&!n&&console.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const r=this.getStackTop().scope,n=r.getSession();n&&Sv(n),this._sendSessionUpdate(),r.setSession()}startSession(e){const{scope:r,client:n}=this.getStackTop(),{release:i,environment:o=Ba}=n&&n.getOptions()||{},{userAgent:a}=ne.navigator||{},s=Ev({release:i,environment:o,user:r.getUser(),...a&&{userAgent:a},...e}),u=r.getSession&&r.getSession();return u&&u.status==="ok"&&at(u,{status:"exited"}),this.endSession(),r.setSession(s),s}shouldSendDefaultPii(){const e=this.getClient(),r=e&&e.getOptions();return!!(r&&r.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:r}=this.getStackTop(),n=e.getSession();n&&r&&r.captureSession&&r.captureSession(n)}_withClient(e){const{scope:r,client:n}=this.getStackTop();n&&e(n,r)}_callExtensionMethod(e,...r){const i=mr().__SENTRY__;if(i&&i.extensions&&typeof i.extensions[e]=="function")return i.extensions[e].apply(this,r);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function mr(){return ne.__SENTRY__=ne.__SENTRY__||{extensions:{},hub:void 0},ne}function Ki(t){const e=mr(),r=fn(e);return za(e,t),r}function ie(){const t=mr();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return Iv(t)}function Iv(t=mr()){return(!kv(t)||fn(t).isOlderThan(qa))&&za(t,new Ha),fn(t)}function kv(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function fn(t){return Xn("hub",()=>new Ha,t)}function za(t,e){if(!t)return!1;const r=t.__SENTRY__=t.__SENTRY__||{};return r.hub=e,!0}const xv="7";function Av(t){const e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function Nv(t){return`${Av(t)}${t.projectId}/envelope/`}function Dv(t,e){return xh({sentry_key:t.publicKey,sentry_version:xv,...e&&{sentry_client:`${e.name}/${e.version}`}})}function Rv(t,e={}){const r=typeof e=="string"?e:e.tunnel,n=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return r||`${Nv(t)}?${Dv(t,n)}`}function Pv(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function Cv(t,e,r,n){const i=Ua(r),o={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!n&&{dsn:_r(e)}},a="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return Nt(o,[a])}function Mv(t,e,r,n){const i=Ua(r),o=t.type&&t.type!=="replay_event"?t.type:"event";Pv(t,r&&r.sdk);const a=hv(t,i,n,e);return delete t.sdkProcessingMetadata,Nt(a,[[{type:o},t]])}const Wi=[];function Lv(t){const e={};return t.forEach(r=>{r&&Ka(r,e)}),e}function Ka(t,e){e[t.name]=t,Wi.indexOf(t.name)===-1&&(t.setupOnce(Ya,ie),Wi.push(t.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.log(`Integration installed: ${t.name}`))}function $v(t,e,r,n){const{normalizeDepth:i=3,normalizeMaxBreadth:o=1e3}=t,a={...e,event_id:e.event_id||r.event_id||tt(),timestamp:e.timestamp||yr()},s=r.integrations||t.integrations.map(l=>l.name);jv(a,t),Bv(a,s),e.type===void 0&&Fv(a,t.stackParser);let u=n;r.captureContext&&(u=$e.clone(u).update(r.captureContext));let c=Be(a);if(u){if(u.getAttachments){const l=[...r.attachments||[],...u.getAttachments()];l.length&&(r.attachments=l)}c=u.applyToEvent(a,r)}return c.then(l=>(l&&Uv(l),typeof i=="number"&&i>0?Gv(l,i,o):l))}function jv(t,e){const{environment:r,release:n,dist:i,maxValueLength:o=250}=e;"environment"in t||(t.environment="environment"in e?r:Ba),t.release===void 0&&n!==void 0&&(t.release=n),t.dist===void 0&&i!==void 0&&(t.dist=i),t.message&&(t.message=mt(t.message,o));const a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=mt(a.value,o));const s=t.request;s&&s.url&&(s.url=mt(s.url,o))}const Vi=new WeakMap;function Fv(t,e){const r=ne._sentryDebugIds;if(!r)return;let n;const i=Vi.get(e);i?n=i:(n=new Map,Vi.set(e,n));const o=Object.keys(r).reduce((a,s)=>{let u;const c=n.get(s);c?u=c:(u=e(s),n.set(s,u));for(let l=u.length-1;l>=0;l--){const f=u[l];if(f.filename){a[f.filename]=r[s];break}}return a},{});try{t.exception.values.forEach(a=>{a.stacktrace.frames.forEach(s=>{s.filename&&(s.debug_id=o[s.filename])})})}catch{}}function Uv(t){const e={};try{t.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?e[i.abs_path]=i.debug_id:i.filename&&(e[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const r=t.debug_meta.images;Object.keys(e).forEach(n=>{r.push({type:"sourcemap",code_file:n,debug_id:e[n]})})}function Bv(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function Gv(t,e,r){if(!t)return null;const n={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(i=>({...i,...i.data&&{data:Te(i.data,e,r)}}))},...t.user&&{user:Te(t.user,e,r)},...t.contexts&&{contexts:Te(t.contexts,e,r)},...t.extra&&{extra:Te(t.extra,e,r)}};return t.contexts&&t.contexts.trace&&n.contexts&&(n.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(n.contexts.trace.data=Te(t.contexts.trace.data,e,r))),t.spans&&(n.spans=t.spans.map(i=>(i.data&&(i.data=Te(i.data,e,r)),i))),n}const Ji="Not capturing exception because it's already been captured.";class Ce{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}__init5(){this._hooks={}}constructor(e){if(Ce.prototype.__init.call(this),Ce.prototype.__init2.call(this),Ce.prototype.__init3.call(this),Ce.prototype.__init4.call(this),Ce.prototype.__init5.call(this),this._options=e,e.dsn?this._dsn=Ih(e.dsn):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.warn("No DSN provided, client will not do anything."),this._dsn){const r=Rv(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:r})}}captureException(e,r,n){if(Yi(e)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.log(Ji);return}let i=r&&r.event_id;return this._process(this.eventFromException(e,r).then(o=>this._captureEvent(o,r,n)).then(o=>{i=o})),i}captureMessage(e,r,n,i){let o=n&&n.event_id;const a=Aa(e)?this.eventFromMessage(String(e),r,n):this.eventFromException(e,n);return this._process(a.then(s=>this._captureEvent(s,n,i)).then(s=>{o=s})),o}captureEvent(e,r,n){if(r&&r.originalException&&Yi(r.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.log(Ji);return}let i=r&&r.event_id;return this._process(this._captureEvent(e,r,n).then(o=>{i=o})),i}captureSession(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),at(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const r=this._transport;return r?this._isClientDoneProcessing(e).then(n=>r.flush(e).then(i=>n&&i)):Be(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,r))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=Lv(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){Ka(e,this._integrations)}sendEvent(e,r={}){if(this._dsn){let n=Mv(e,this._dsn,this._options._metadata,this._options.tunnel);for(const o of r.attachments||[])n=cv(n,dv(o,this._options.transportOptions&&this._options.transportOptions.textEncoder));const i=this._sendEnvelope(n);i&&i.then(o=>this.emit("afterSendEvent",e,o),null)}}sendSession(e){if(this._dsn){const r=Cv(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(r)}}recordDroppedEvent(e,r,n){if(this._options.sendClientReports){const i=`${e}:${r}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.log(`Adding outcome: "${i}"`),this._outcomes[i]=this._outcomes[i]+1||1}}on(e,r){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(r)}emit(e,...r){this._hooks[e]&&this._hooks[e].forEach(n=>n(...r))}_updateSessionFromEvent(e,r){let n=!1,i=!1;const o=r.exception&&r.exception.values;if(o){i=!0;for(const u of o){const c=u.mechanism;if(c&&c.handled===!1){n=!0;break}}}const a=e.status==="ok";(a&&e.errors===0||a&&n)&&(at(e,{...n&&{status:"crashed"},errors:e.errors||Number(i||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new V(r=>{let n=0;const i=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),r(!0)):(n+=i,e&&n>=e&&(clearInterval(o),r(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(e,r,n){const i=this.getOptions(),o=Object.keys(this._integrations);return!r.integrations&&o.length>0&&(r.integrations=o),$v(i,e,r,n)}_captureEvent(e,r={},n){return this._processEvent(e,r,n).then(i=>i.event_id,i=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){const o=i;o.logLevel==="log"?D.log(o.message):D.warn(o)}})}_processEvent(e,r,n){const i=this.getOptions(),{sampleRate:o}=i;if(!this._isEnabled())return rr(new ae("SDK not enabled, will not capture event.","log"));const a=Va(e),s=Wa(e),u=e.type||"error",c=`before send for type \`${u}\``;if(s&&typeof o=="number"&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",e),rr(new ae(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const l=u==="replay_event"?"replay":u;return this._prepareEvent(e,r,n).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",l,e),new ae("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return f;const d=qv(i,f,r);return Yv(d,c)}).then(f=>{if(f===null)throw this.recordDroppedEvent("before_send",l,e),new ae(`${c} returned \`null\`, will not send event.`,"log");const p=n&&n.getSession();!a&&p&&this._updateSessionFromEvent(p,f);const d=f.transaction_info;if(a&&d&&f.transaction!==e.transaction){const h="custom";f.transaction_info={...d,source:h}}return this.sendEvent(f,r),f}).then(null,f=>{throw f instanceof ae?f:(this.captureException(f,{data:{__sentry__:!0},originalException:f}),new ae(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_sendEnvelope(e){if(this._transport&&this._dsn)return this.emit("beforeEnvelope",e),this._transport.send(e).then(null,r=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.error("Error while sending event:",r)});(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map(r=>{const[n,i]=r.split(":");return{reason:n,category:i,quantity:e[r]}})}}function Yv(t,e){const r=`${e} must return \`null\` or a valid event.`;if(Jn(t))return t.then(n=>{if(!ot(n)&&n!==null)throw new ae(r);return n},n=>{throw new ae(`${e} rejected with ${n}`)});if(!ot(t)&&t!==null)throw new ae(r);return t}function qv(t,e,r){const{beforeSend:n,beforeSendTransaction:i}=t;return Wa(e)&&n?n(e,r):Va(e)&&i?i(e,r):e}function Wa(t){return t.type===void 0}function Va(t){return t.type==="transaction"}const Hv=30;function zv(t,e,r=iv(t.bufferSize||Hv)){let n={};const i=a=>r.drain(a);function o(a){const s=[];if(Hi(a,(f,p)=>{const d=zi(p);if(mv(n,d)){const h=Xi(f,p);t.recordDroppedEvent("ratelimit_backoff",d,h)}else s.push(f)}),s.length===0)return Be();const u=Nt(a[0],s),c=f=>{Hi(u,(p,d)=>{const h=Xi(p,d);t.recordDroppedEvent(f,zi(d),h)})},l=()=>e({body:lv(u,t.textEncoder)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),n=bv(n,f),f),f=>{throw c("network_error"),f});return r.add(l).then(f=>f,f=>{if(f instanceof ae)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.error("Skipped sending event because buffer is full."),c("queue_overflow"),Be();throw f})}return o.__sentry__baseTransport__=!0,{send:o,flush:i}}function Xi(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}const Qi="7.57.0",se=ne;function Ja(t,e){const r=Zn(t,e),n={type:e&&e.name,value:Jv(e)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function Kv(t,e,r,n){const o=ie().getClient(),a=o&&o.getOptions().normalizeDepth,s={exception:{values:[{type:gr(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:Zv(e,{isUnhandledRejection:n})}]},extra:{__serialized__:$a(e,a)}};if(r){const u=Zn(t,r);u.length&&(s.exception.values[0].stacktrace={frames:u})}return s}function $r(t,e){return{exception:{values:[Ja(t,e)]}}}function Zn(t,e){const r=e.stacktrace||e.stack||"",n=Vv(e);try{return t(r,n)}catch{}return[]}const Wv=/Minified React error #\d+;/i;function Vv(t){if(t){if(typeof t.framesToPop=="number")return t.framesToPop;if(Wv.test(t.message))return 1}return 0}function Jv(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function Xv(t,e,r,n){const i=r&&r.syntheticException||void 0,o=ei(t,e,i,n);return tr(o),o.level="error",r&&r.event_id&&(o.event_id=r.event_id),Be(o)}function Qv(t,e,r="info",n,i){const o=n&&n.syntheticException||void 0,a=dn(t,e,o,i);return a.level=r,n&&n.event_id&&(a.event_id=n.event_id),Be(a)}function ei(t,e,r,n,i){let o;if(Vn(e)&&e.error)return $r(t,e.error);if(Pi(e)||ph(e)){const a=e;if("stack"in e)o=$r(t,e);else{const s=a.name||(Pi(a)?"DOMError":"DOMException"),u=a.message?`${s}: ${a.message}`:s;o=dn(t,u,r,n),Gi(o,u)}return"code"in a&&(o.tags={...o.tags,"DOMException.code":`${a.code}`}),o}return xa(e)?$r(t,e):ot(e)||gr(e)?(o=Kv(t,e,r,i),tr(o,{synthetic:!0}),o):(o=dn(t,e,r,n),Gi(o,`${e}`),tr(o,{synthetic:!0}),o)}function dn(t,e,r,n){const i={message:e};if(n&&r){const o=Zn(t,r);o.length&&(i.exception={values:[{value:e,stacktrace:{frames:o}}]})}return i}function Zv(t,{isUnhandledRejection:e}){const r=Ah(t),n=e?"promise rejection":"exception";return Vn(t)?`Event \`ErrorEvent\` captured as ${n} with message \`${t.message}\``:gr(t)?`Event \`${eg(t)}\` (type=${t.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}function eg(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}const Ht=1024,Xa="Breadcrumbs";class wt{static __initStatic(){this.id=Xa}__init(){this.name=wt.id}constructor(e){wt.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){this.options.console&&Pe("console",rg),this.options.dom&&Pe("dom",tg(this.options.dom)),this.options.xhr&&Pe("xhr",ng),this.options.fetch&&Pe("fetch",ig),this.options.history&&Pe("history",og)}addSentryBreadcrumb(e){this.options.sentry&&ie().addBreadcrumb({category:`sentry.${e.type==="transaction"?"transaction":"event"}`,event_id:e.event_id,level:e.level,message:Wh(e)},{event:e})}}wt.__initStatic();function tg(t){function e(r){let n,i=typeof t=="object"?t.serializeAttribute:void 0,o=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;o&&o>Ht&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.warn(`\`dom.maxStringLength\` cannot exceed ${Ht}, but a value of ${o} was configured. Sentry will use ${Ht} instead.`),o=Ht),typeof i=="string"&&(i=[i]);try{const a=r.event;n=ag(a)?rn(a.target,{keyAttrs:i,maxStringLength:o}):rn(a,{keyAttrs:i,maxStringLength:o})}catch{n="<unknown>"}n.length!==0&&ie().addBreadcrumb({category:`ui.${r.name}`,message:n},{event:r.event,name:r.name,global:r.global})}return e}function rg(t){for(let r=0;r<t.args.length;r++)if(t.args[r]==="ref=Ref<"){t.args[r+1]="viewRef";break}const e={category:"console",data:{arguments:t.args,logger:"console"},level:av(t.level),message:Mi(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)e.message=`Assertion failed: ${Mi(t.args.slice(1)," ")||"console.assert"}`,e.data.arguments=t.args.slice(1);else return;ie().addBreadcrumb(e,{input:t.args,level:t.level})}function ng(t){const{startTimestamp:e,endTimestamp:r}=t,n=t.xhr[gt];if(!e||!r||!n)return;const{method:i,url:o,status_code:a,body:s}=n,u={method:i,url:o,status_code:a},c={xhr:t.xhr,input:s,startTimestamp:e,endTimestamp:r};ie().addBreadcrumb({category:"xhr",data:u,type:"http"},c)}function ig(t){const{startTimestamp:e,endTimestamp:r}=t;if(r&&!(t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"))if(t.error){const n=t.fetchData,i={data:t.error,input:t.args,startTimestamp:e,endTimestamp:r};ie().addBreadcrumb({category:"fetch",data:n,level:"error",type:"http"},i)}else{const n={...t.fetchData,status_code:t.response&&t.response.status},i={input:t.args,response:t.response,startTimestamp:e,endTimestamp:r};ie().addBreadcrumb({category:"fetch",data:n,type:"http"},i)}}function og(t){let e=t.from,r=t.to;const n=Mr(se.location.href);let i=Mr(e);const o=Mr(r);i.path||(i=n),n.protocol===o.protocol&&n.host===o.host&&(r=o.relative),n.protocol===i.protocol&&n.host===i.host&&(e=i.relative),ie().addBreadcrumb({category:"navigation",data:{from:e,to:r}})}function ag(t){return!!t&&!!t.target}function sg(t,{metadata:e,tunnel:r,dsn:n}){const i={event_id:t.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!r&&!!n&&{dsn:_r(n)}},o=ug(t);return Nt(i,[o])}function ug(t){return[{type:"user_report"},t]}class cg extends Ce{constructor(e){const r=se.SENTRY_SDK_SOURCE||Xh();e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${r}:@sentry/browser`,version:Qi}],version:Qi},super(e),e.sendClientReports&&se.document&&se.document.addEventListener("visibilitychange",()=>{se.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,r){return Xv(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",n){return Qv(this._options.stackParser,e,r,n,this._options.attachStacktrace)}sendEvent(e,r){const n=this.getIntegrationById(Xa);n&&n.addSentryBreadcrumb&&n.addSentryBreadcrumb(e),super.sendEvent(e,r)}captureUserFeedback(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.warn("SDK not enabled, will not capture user feedback.");return}const r=sg(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(r)}_prepareEvent(e,r,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,n)}_flushOutcomes(){const e=this._clearOutcomes();if(e.length===0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.log("Sending outcomes:",e);const r=vv(e,this._options.tunnel&&_r(this._dsn));this._sendEnvelope(r)}}let _t;function lg(){if(_t)return _t;if(an(se.fetch))return _t=se.fetch.bind(se);const t=se.document;let e=se.fetch;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r);const n=r.contentWindow;n&&n.fetch&&(e=n.fetch),t.head.removeChild(r)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return _t=e.bind(se)}function fg(){_t=void 0}function dg(t,e=lg()){let r=0,n=0;function i(o){const a=o.body.length;r+=a,n++;const s={body:o.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r<=6e4&&n<15,...t.fetchOptions};try{return e(t.url,s).then(u=>(r-=a,n--,{statusCode:u.status,headers:{"x-sentry-rate-limits":u.headers.get("X-Sentry-Rate-Limits"),"retry-after":u.headers.get("Retry-After")}}))}catch(u){return fg(),r-=a,n--,rr(u)}}return zv(t,i)}const br="?",pg=30,hg=40,vg=50;function ti(t,e,r,n){const i={filename:t,function:e,in_app:!0};return r!==void 0&&(i.lineno=r),n!==void 0&&(i.colno=n),i}const gg=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,_g=/\((\S*)(?::(\d+))(?::(\d+))\)/,yg=t=>{const e=gg.exec(t);if(e){if(e[2]&&e[2].indexOf("eval")===0){const o=_g.exec(e[2]);o&&(e[2]=o[1],e[3]=o[2],e[4]=o[3])}const[n,i]=Qa(e[1]||br,e[2]);return ti(i,n,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},mg=[pg,yg],bg=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Eg=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Sg=t=>{const e=bg.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const o=Eg.exec(e[3]);o&&(e[1]=e[1]||"eval",e[3]=o[1],e[4]=o[2],e[5]="")}let n=e[3],i=e[1]||br;return[i,n]=Qa(i,n),ti(n,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},wg=[vg,Sg],Og=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Tg=t=>{const e=Og.exec(t);return e?ti(e[2],e[1]||br,+e[3],e[4]?+e[4]:void 0):void 0},Ig=[hg,Tg],kg=[mg,wg,Ig],xg=Nh(...kg),Qa=(t,e)=>{const r=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return r||n?[t.indexOf("@")!==-1?t.split("@")[0]:br,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};class xe{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=xe.id}__init2(){this._installFunc={onerror:Ag,onunhandledrejection:Ng}}constructor(e){xe.prototype.__init.call(this),xe.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const r in e){const n=this._installFunc[r];n&&e[r]&&(Pg(r),n(),this._installFunc[r]=void 0)}}}xe.__initStatic();function Ag(){Pe("error",t=>{const[e,r,n]=ts();if(!e.getIntegration(xe))return;const{msg:i,url:o,line:a,column:s,error:u}=t;if(u&&u.__sentry_own_request__)return;const c=u===void 0&&St(i)?Rg(i,o,a,s):Za(ei(r,u||i,void 0,n,!1),o,a,s);c.level="error",es(e,u,c,"onerror")})}function Ng(){Pe("unhandledrejection",t=>{const[e,r,n]=ts();if(!e.getIntegration(xe))return;let i=t;try{"reason"in t?i=t.reason:"detail"in t&&"reason"in t.detail&&(i=t.detail.reason)}catch{}if(i&&i.__sentry_own_request__)return!0;const o=Aa(i)?Dg(i):ei(r,i,void 0,n,!0);o.level="error",es(e,i,o,"onunhandledrejection")})}function Dg(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function Rg(t,e,r,n){const i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let o=Vn(t)?t.message:t,a="Error";const s=o.match(i);return s&&(a=s[1],o=s[2]),Za({exception:{values:[{type:a,value:o}]}},e,r,n)}function Za(t,e,r,n){const i=t.exception=t.exception||{},o=i.values=i.values||[],a=o[0]=o[0]||{},s=a.stacktrace=a.stacktrace||{},u=s.frames=s.frames||[],c=isNaN(parseInt(n,10))?void 0:n,l=isNaN(parseInt(r,10))?void 0:r,f=St(e)&&e.length>0?e:bh();return u.length===0&&u.push({colno:c,filename:f,function:"?",in_app:!0,lineno:l}),t}function Pg(t){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.log(`Global Handler attached: ${t}`)}function es(t,e,r,n){tr(r,{handled:!1,type:n}),t.captureEvent(r,{originalException:e})}function ts(){const t=ie(),e=t.getClient(),r=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[t,r.stackParser,r.attachStacktrace]}const Cg="cause",Mg=5;class rt{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=rt.id}constructor(e={}){rt.prototype.__init.call(this),this._key=e.key||Cg,this._limit=e.limit||Mg}setupOnce(){const e=ie().getClient();e&&Ya((r,n)=>{const i=ie().getIntegration(rt);return i?Lg(e.getOptions().stackParser,i._key,i._limit,r,n):r})}}rt.__initStatic();function Lg(t,e,r,n,i){if(!n.exception||!n.exception.values||!i||!lt(i.originalException,Error))return n;const o=rs(t,r,i.originalException,e);return n.exception.values=[...o,...n.exception.values],n}function rs(t,e,r,n,i=[]){if(!lt(r[n],Error)||i.length+1>=e)return i;const o=Ja(t,r[n]);return rs(t,e,r[n],n,[o,...i])}class nt{constructor(){nt.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=nt.id}setupOnce(e,r){const n=i=>{if(i.type)return i;const o=r().getIntegration(nt);if(o){try{if($g(i,o._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&D.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return o._previousEvent=i}return o._previousEvent=i}return i};n.id=this.name,e(n)}}nt.__initStatic();function $g(t,e){return e?!!(jg(t,e)||Fg(t,e)):!1}function jg(t,e){const r=t.message,n=e.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!is(t,e)||!ns(t,e))}function Fg(t,e){const r=Zi(e),n=Zi(t);return!(!r||!n||r.type!==n.type||r.value!==n.value||!is(t,e)||!ns(t,e))}function ns(t,e){let r=eo(t),n=eo(e);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let i=0;i<n.length;i++){const o=n[i],a=r[i];if(o.filename!==a.filename||o.lineno!==a.lineno||o.colno!==a.colno||o.function!==a.function)return!1}return!0}function is(t,e){let r=t.fingerprint,n=e.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}function Zi(t){return t.exception&&t.exception.values&&t.exception.values[0]}function eo(t){const e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}const Ug=t=>{if(typeof window>"u")return t;const e=t?.request?.url||window?.location?.href,{referrer:r}=window?.document||{},{userAgent:n}=window?.navigator||{},i={...t?.request?.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},o={...e&&{url:e},headers:i};return{...t,request:o}},Xg=Ee("hidden"),Qg=Ee(""),Zg=Ee(null),e_=Ee(dh.initializeSegment({debug:zt?._meta?.environment==="dev"})),Bg=Ee(!1),Gg=Ee(!1),Yg=Ee(!1),t_=Zp([Bg,Gg,Yg],(t,e,r)=>t&&e&&r),r_=Ee(function(){const e={dsn:zt?.GN_SENTRY_DSN,environment:zt?.GN_SENTRY_ENV,release:zt?._meta?.version??"FIX_ME_NEEDS_VERSION_INFO",beforeSend:n=>Ug(n),transport:dg,stackParser:xg,integrations:[new wt,new xe,new rt,new nt]};if(!e.dsn||!e.environment)return null;const r=new cg(e);return As(r),r}());export{Qg as $,t_ as A,Yg as B,Fe as C,Nl as D,Vd as E,xl as F,Sl as G,Kp as H,Wp as I,Yl as J,sa as K,ua as L,lf as M,pf as N,Fl as O,En as P,nf as Q,af as R,Ef as S,la as T,Mf as U,Jf as V,Xf as W,ho as X,rp as Y,op as Z,Zd as _,Zg as a,ke as a0,re as a1,gf as a2,ya as a3,ha as a4,va as a5,Kg as a6,Md as a7,id as a8,kl as a9,Kn as aa,Bd as ab,Hd as ac,rh as ad,th as ae,Bg as af,Xg as b,e_ as c,r_ as d,jc as e,ue as f,Vg as g,Et as h,Wg as i,Jo as j,we as k,kr as l,$c as m,kc as n,vo as o,Ys as p,Tn as q,Ct as r,yt as s,iu as t,Jg as u,he as v,vr as w,lp as x,hp as y,Gg as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["https://www.nerdwallet.com/cdn/apps/prod/compass/prod/dist/client/_astro/auto-track.BmJL9KRM.js","https://www.nerdwallet.com/cdn/apps/prod/compass/prod/dist/client/_astro/_baseFor.Bzwhonox.js","https://www.nerdwallet.com/cdn/apps/prod/compass/prod/dist/client/_astro/globalnav2.15dcd298.yarjxgix.js","https://www.nerdwallet.com/cdn/apps/prod/compass/prod/dist/client/_astro/preload-helper.Chbwj59V.js","https://www.nerdwallet.com/cdn/apps/prod/compass/prod/dist/client/_astro/index.Dj44-MeU.js","https://www.nerdwallet.com/cdn/apps/prod/compass/prod/dist/client/_astro/index.DsBvhdsA.js","https://www.nerdwallet.com/cdn/apps/prod/compass/prod/dist/client/_astro/is-plan-event-enabled.BqZLFrcl.js","https://www.nerdwallet.com/cdn/apps/prod/compass/prod/dist/client/_astro/index.DZFC188T.js","https://www.nerdwallet.com/cdn/apps/prod/compass/prod/dist/client/_astro/index.CoVT2lSp.js","https://www.nerdwallet.com/cdn/apps/prod/compass/prod/dist/client/_astro/index.C4tgz14D.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=client.CDTOledn.js.map
