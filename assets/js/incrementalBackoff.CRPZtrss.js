import{g as b}from"./index.BmHI7pNt.js";import{l as s}from"./apollo-constants.CVCHsjQc.js";import{i as d}from"./cookie-utils.CaDQHCDO.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="daea8432-dd5b-4570-7681-8cb5fa0e9537",t._sentryDebugIdIdentifier="sentry-dbid-daea8432-dd5b-4570-7681-8cb5fa0e9537")}catch{}})();const D=b("should-skip-vertical"),C=()=>s.getItem("hasSuccessfullyOnboarded")?"signin":"register",l=(t,e)=>{if(t&&Array.isArray(t))return t.find(({nwVarName:o})=>o===e)?.value;D.error(`Error: pageTaxonomy is not an array. Taxonomy captured: ${JSON.stringify(t)}`)},k=({includeExcludeConfig:t,pageTaxonomy:e,originatingUrl:o})=>{const{verticalsToInclude:n=[],contentTypesToInclude:c=[],topicsToInclude:a=[],urlsToInclude:i=[],urlMatch:_}=t??{},g=l(e,"vertical"),E=l(e,"contentType"),T=l(e,"topic"),O=c.length===0||c.includes(E),I=i.length===0||i.includes(o),p=!_||_.test(o);return d(t)||O&&I&&p?d(a)&&d(n)||a.includes(T)||n.includes(g):!1},R=({pageVertical:t,pageTaxonomy:e,verticalsToSkip:o})=>{if(o.includes(t))return!0;const n=l(e,"topic");return!!o.includes(n)},L=t=>{const{authType:e,flow:o,onSuccess:n,regFlow:c,regTrackingAttributes:a,segmentTrackingAttributes:i}=t;window.nwapi.ui.showAuthDialog({authType:e,flow:o,flowConfig:{errorToastPositionMobile:"bottom-center"},onSuccess:n,regFlow:c,regTrackingAttributes:a,segmentTrackingAttributes:i,version:2})},B=t=>{const o=new URLSearchParams(window.location.search).get("redirect_uri"),n=o?decodeURIComponent(o):t?.otherwiseGoTo;return n?()=>window?.location?.assign(n):()=>{}},N=0,U=3600,m=86400,S=604800,y=2419200,f=[N,U,m,S,y],u={CONTEXTUAL:"contextual",IGNORABLE:"ignorable",LOGGED_OUT_TU:"logged_out_tu",EORU_TU:"eoru_tu"},r={[u.CONTEXTUAL]:{COUNT:"contextual_test_backoff_count",DATE:"contextual_test_backoff_date"},[u.IGNORABLE]:{COUNT:"ign_test_backoff_count",DATE:"ign_test_backoff_date"},[u.LOGGED_OUT_TU]:{COUNT:"logged_out_tu_backoff_count",DATE:"logged_out_tu_backoff_date"},[u.EORU_TU]:{COUNT:"eoru_tu_backoff_count",DATE:"eoru_tu_backoff_date"}},G=t=>{const o=parseInt(s.getItem(r[t].COUNT)??"0",10)+1;s.setItem(r[t].COUNT,`${o}`),s.setItem(r[t].DATE,`${Date.now()}`)},v=t=>{s.setItem(r[t].COUNT,"0")},M=()=>s.getItem("userHasLoggedIn")==="true",V=t=>{const e=s.getItem(r[t].DATE);if(!e)return!1;const o=parseInt(s.getItem(r[t].COUNT)??"0",10),n=f[Math.min(o,f.length-1)];return(Date.now()-parseInt(e,10))/1e3<n};export{u as M,V as a,B as b,v as c,k as d,R as e,C as g,G as i,L as o,M as s};
//# sourceMappingURL=incrementalBackoff.CRPZtrss.js.map
